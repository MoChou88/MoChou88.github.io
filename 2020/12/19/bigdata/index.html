<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="1、课程介绍1.1、大数据简介大数据（big data），IT行业术语，是指无法在一定时间范围内用常规软件工具进行捕捉、管理和处理的数据集合，是需要新的理论、技术、软件来处理这些海量、高增长率和多样化的信息数据，以便能为某些行业需求提供决策力、洞察发现力和流程优化能力。 1.2、课程说明在本次体验课中将带领大家完成疫情上报数据实时分析项目，将实时采集全国各省疫情上报数据并实时分析新增病例数量和疑似">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2020/12/19/bigdata/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1、课程介绍1.1、大数据简介大数据（big data），IT行业术语，是指无法在一定时间范围内用常规软件工具进行捕捉、管理和处理的数据集合，是需要新的理论、技术、软件来处理这些海量、高增长率和多样化的信息数据，以便能为某些行业需求提供决策力、洞察发现力和流程优化能力。 1.2、课程说明在本次体验课中将带领大家完成疫情上报数据实时分析项目，将实时采集全国各省疫情上报数据并实时分析新增病例数量和疑似">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca1.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/.%5Cimages%5Ca2.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/.%5Cimages%5Ca3.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E8%BF%9B%E5%85%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E9%9D%A2%E6%9D%BF.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5CJAVAHOME.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cjavapath.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%B5%8B%E8%AF%95jdk%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%AE%89%E8%A3%8501.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%AE%89%E8%A3%8502.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%AE%89%E8%A3%85%E5%88%87%E6%8D%A2bin%E7%9B%AE%E5%BD%95.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysqldata%E5%88%9D%E5%A7%8B%E5%8C%96.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%A3%80%E6%9F%A5mysql%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%A3%80%E6%9F%A5mysql%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%B5%8B%E8%AF%95mysql%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E8%AE%BE%E5%AE%9Amysql%E5%AF%86%E7%A0%81.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%B5%8B%E8%AF%95mysql%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cnavicat01.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cnavicat02.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cnavicat03.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%9302.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%9303.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E6%89%93%E5%BC%80%E6%95%B0%E6%8D%AE%E5%BA%93.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A801.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E8%A1%A802.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cid%E4%B8%BB%E9%94%AE%E8%AF%B4%E6%98%8E.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A803.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A804.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql01.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql02.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql03.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql%E4%BF%AE%E6%94%B9.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql04.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Csql05.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca10.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca11.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca12.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cidea%E5%AE%89%E8%A3%8501.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cidea%E5%AE%89%E8%A3%8502.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cidea%E5%AE%89%E8%A3%8503.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca5.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/images/a6.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/images/a13.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/.%5Cimages%5Ca14.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cscalahome%E9%85%8D%E7%BD%AE.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cscalapath%E9%85%8D%E7%BD%AE.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cscala%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8501.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8502.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8503.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cscala%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cunit%E3%80%81null%E3%80%81nothing%E8%AF%B4%E6%98%8E.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A601.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A602.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cwordcount%E6%B5%81%E7%A8%8B.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmapreduce%E7%BB%93%E6%9E%9C.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmap%E9%98%B6%E6%AE%B5.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Creduce%E9%98%B6%E6%AE%B5.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5CDStream.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cnetcat%E5%AE%89%E8%A3%85.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cmysql%E8%A1%A8%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cecharts%E5%AE%98%E7%BD%91.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Cecharts%E6%A0%B7%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5C%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%9C%E6%BC%94%E7%A4%BA%E5%9B%BE.png">
<meta property="article:published_time" content="2020-12-19T06:11:40.672Z">
<meta property="article:modified_time" content="2020-11-06T06:31:35.410Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2020/12/19/bigdata/%5Cimages%5Ca1.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-bigdata" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/19/bigdata/" class="article-date">
  <time class="dt-published" datetime="2020-12-19T06:11:40.672Z" itemprop="datePublished">2020-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1、课程介绍"><a href="#1、课程介绍" class="headerlink" title="1、课程介绍"></a>1、课程介绍</h1><h2 id="1-1、大数据简介"><a href="#1-1、大数据简介" class="headerlink" title="1.1、大数据简介"></a>1.1、大数据简介</h2><p><strong>大数据</strong>（big data），IT行业术语，是指无法在一定时间范围内用常规软件工具进行捕捉、管理和处理的数据集合，是需要新的理论、技术、软件来处理这些海量、高增长率和多样化的信息数据，以便能为某些行业需求提供决策力、洞察发现力和流程优化能力。</p>
<h2 id="1-2、课程说明"><a href="#1-2、课程说明" class="headerlink" title="1.2、课程说明"></a>1.2、课程说明</h2><p>在本次体验课中将带领大家完成疫情上报数据实时分析项目，将实时采集全国各省疫情上报数据并实时分析新增病例数量和疑似病例数量，同时疫情发展状况作出实时趋势分析。</p>
<p>主要学习Scala的基础知识，完成Scala编程入门；重点学习使用Spark Streaming完成实时数据的采集和分析。</p>
<h1 id="2、工具安装"><a href="#2、工具安装" class="headerlink" title="2、工具安装"></a>2、工具安装</h1><h2 id="2-1、JDK安装"><a href="#2-1、JDK安装" class="headerlink" title="2.1、JDK安装"></a>2.1、JDK安装</h2><h3 id="2-1-1、java语言简介"><a href="#2-1-1、java语言简介" class="headerlink" title="2.1.1、java语言简介"></a>2.1.1、java语言简介</h3><p>Java是由Sun公司于1995年5月推出的Java程序设计语言（以下简称Java语言）和Java平台的总称。</p>
<p>Java是一个完整的平台，不仅提供了优秀的编程语言，而且还提供了大量的可重用代码以及一个能提供安全性、可移植性、自动垃圾回收等系统服务的执行环境。</p>
<p><img src="%5Cimages%5Ca1.png"></p>
<p>1992年Java的前身Oak问世，Oak最初的目的是面向家用电器的智能化。其开发团队的主要成员Bill Joy、Patrik Naughton、Mike Sheridan 和 James Gosling（Java之父）等。因为投标失败，Oak几乎无家可归，处境相当不乐观。后来在1994年该团队发现Oak非常适合于Internet，并且在得到Sun公司的支持后该团队决定进军Internet。因为Oak已被其它公司注册，这种新的语言的名字便改为Java。到1995年Java技术正式诞生，1996年第一个正式版本发布。</p>
<p><img src=".%5Cimages%5Ca2.png" alt="img"></p>
<p>​     1998年12月，Java 1.2发布，随后产品的名称更改为“Java 2标准版软件开发工具箱1.2版”</p>
<p>Java编程语言的主要目标是：</p>
<p>​        提供一种解释环境，提高开发速度；</p>
<p>​        使用户能运行不止一个活动线程；</p>
<p>​        在程序运行时，能动态支持程序改变，提供更好的安全性。</p>
<p>​        更重要的是Java技术从诞生开始是一项免费技术。</p>
<p>Java语言是Sun公司推出的新一代面向对象程序设计语言，适合于平台无关性应用程序开发。今天的Java由于自身所特有的性能已经广泛的被使用2009年04月20日oracle以74亿美元收购Sun。</p>
<p><a target="_blank" rel="noopener" href="https://www.oracle.com/">https://www.oracle.com</a></p>
<h3 id="2-1-2、JDK、JRE、JVM简介"><a href="#2-1-2、JDK、JRE、JVM简介" class="headerlink" title="2.1.2、JDK、JRE、JVM简介"></a>2.1.2、JDK、JRE、JVM简介</h3><p> JDK，Java SDK最早叫Java Software Develop Kit，后来改名为JDK，即Java Develop Kit。JDK作为Java开发工具包，主要用于构建在Java平台上运行的应用程序、Applet 和组件等。 包括：类库、编译器、调试器、Java 运行时环境（JRE）</p>
<p>JRE( Java Runtime Environment)  、Java运行环境，用于解释执行Java的字节码文件。</p>
<p>JVM(Java Virtual Mechinal)，Java虚拟机，是JRE的一部分。它是整个java实现跨平台的最核心的部分，负责解释执行字节码文件，是可运行java字节码文件的虚拟计算机。所有平台的上的JVM向编译器提供相同的接口，而编译器只需要面向虚拟机，生成虚拟机能识别的代码，然后由虚拟机来解释执行。</p>
<p><img src=".%5Cimages%5Ca3.png" alt="image-20200915142053096"></p>
<p>普通用户而只需要安装 JRE（Java Runtime Environment）来运行  Java 程序。而程序开发者必须安装JDK来编译、调试程序。</p>
<h3 id="2-1-3、jdk安装流程"><a href="#2-1-3、jdk安装流程" class="headerlink" title="2.1.3、jdk安装流程"></a>2.1.3、jdk安装流程</h3><p><strong>安装JDK</strong></p>
<p>把安装文件jdk1.8.0_73.zip直接解压到指定目录(<strong>目录不要有中文、不要有特殊字符</strong>)。例如:E:\jdk1.8.0_131</p>
<p><strong>配置环境变量</strong></p>
<p>进入环境变量设置面板</p>
<p>右键点击”我的电脑”-&gt;”属性”</p>
<p><img src="%5Cimages%5C%E8%BF%9B%E5%85%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E9%9D%A2%E6%9D%BF.png"></p>
<p>配置JAVA_HOME</p>
<p>JAVA_HOME指定到JDK的安装目录</p>
<p><img src="%5Cimages%5CJAVAHOME.png"></p>
<p>配置PATH</p>
<p>把JDK安装目录下的bin目录配置到PATH中</p>
<p><img src="%5Cimages%5Cjavapath.png"></p>
<p><strong>验证安装成功</strong></p>
<p>打开cmd(开始-&gt;搜索框或 win+R-&gt;运行:cmd)，分别输入java -version进行测试</p>
<p><img src="%5Cimages%5C%E6%B5%8B%E8%AF%95jdk%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png"></p>
<p>安装成功！</p>
<h2 id="2-2、MySQL安装"><a href="#2-2、MySQL安装" class="headerlink" title="2.2、MySQL安装"></a>2.2、MySQL安装</h2><h3 id="2-2-1、MySQL简介"><a href="#2-2-1、MySQL简介" class="headerlink" title="2.2.1、MySQL简介"></a>2.2.1、MySQL简介</h3><p><strong>数据库</strong></p>
<p>数据库是一个以某种有组织的方式存储的数据集合，它是一个按数据结构来存储和管理数据的计算机软件系统。理解数据库的一种最简单的办法是将其想象为一个文件柜，这个文件柜只是一个存储数据的空间，而数据库就是这么一个空间。</p>
<p>数据库管理系统（Database Management System, DBMS）是用于创建、管理、和维护数据库时所使用的软件，用以管理数据库，一定程度上，用户都是在操作DBMS，所以日常的数据库概念一般就是指DBMS。</p>
<p>常见的数据库软件DBMS有甲骨文的Oracle、MySQL等。</p>
<p><strong>MySQL数据库</strong></p>
<p>MySQL是一种DBMS，而且是开源的关系型数据库管理系统。2008年1月16日MySQL AB被Sun公司收购。而2009年，SUN又被Oracle收购。就这样如同一个轮回，MySQL成为了Oracle公司的另一个数据库项目。MySQL它在世界范围内得到了广泛的安装和使用，应该是使用人数最多的数据库软件</p>
<h3 id="2-2-2、MySQL安装流程"><a href="#2-2-2、MySQL安装流程" class="headerlink" title="2.2.2、MySQL安装流程"></a>2.2.2、MySQL安装流程</h3><p><strong>安装mysql数据库</strong></p>
<p>(1)从MySQL官网下载指定版本安装包(已下载mysql-5.7.28-winx64.zip)</p>
<p>解压到指定目录（例如:D:\mysql-5.7.28-winx64）</p>
<p>(2)进入安装目录(例如:D:\mysql-5.7.28-winx64),创建<strong>data</strong>文件夹</p>
<p><img src="%5Cimages%5Cmysql%E5%AE%89%E8%A3%8501.png"></p>
<p>(3)创建一个名为my.int文件</p>
<p><img src="%5Cimages%5Cmysql%E5%AE%89%E8%A3%8502.png"></p>
<p>在my.ini文件中输入如下内容(复制)</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[mysql] </span><br><span class="line">default-character-set=utf8 </span><br><span class="line"></span><br><span class="line">[mysqld] </span><br><span class="line">port = 3306 </span><br><span class="line">basedir=D:\mysql-5.7.28-winx64 </span><br><span class="line">datadir=D:\mysql-5.7.28-winx64\data </span><br><span class="line">max_connections=200 </span><br><span class="line">character-set-server=utf8 </span><br><span class="line">default-storage-engine=INNODB </span><br><span class="line">explicit_defaults_for_timestamp=true</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<p>basedir要指定到mysql解压目录</p>
<p>datadir要指定到mysql解压目录中的data目录</p>
<p>(4)使用管理员权限打开cmd，进入到mysql解压目录中的bin目录(例如:D:\mysql-5.7.28-winx64\bin)</p>
<p><img src="%5Cimages%5Cmysql%E5%AE%89%E8%A3%85%E5%88%87%E6%8D%A2bin%E7%9B%AE%E5%BD%95.png"></p>
<p>在cmd中，执行mysqld –initialize-insecure –user=mysql完成初始化操作，执行后data文件夹会被初始化</p>
<p><img src="%5Cimages%5Cmysqldata%E5%88%9D%E5%A7%8B%E5%8C%96.png"></p>
<p>执行mysqld install命令安装mysql服务</p>
<p>右键点击”我的电脑”-&gt;”管理”-&gt;打开计算机管理面板，查看是否已成功安装mysql服务</p>
<p><img src="%5Cimages%5C%E6%A3%80%E6%9F%A5mysql%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1.png"></p>
<p>(5)启动mysql服务</p>
<p>在cmd中，执行net start mysql启动mysql服务，可从计算机管理面板查看服务是否启动成功</p>
<p><img src="%5Cimages%5C%E6%A3%80%E6%9F%A5mysql%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F.png"></p>
<p>修改环境变量，把mysql安装目录下bin目录路径配置到PATH中</p>
<p><img src="%5Cimages%5Cmysql%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE.png"></p>
<p>在cmd中输入mysql -u root -p ，默认不需要密码，回车进入mysql数据库，测试安装成功</p>
<p><img src="%5Cimages%5C%E6%B5%8B%E8%AF%95mysql%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png"></p>
<p><strong>配置mysql数据库</strong></p>
<p>mysql数据库安装成功后，默认进入数据库没有密码，需要添加密码控制</p>
<p>进入mysql控制台，分别执行如下命令，设定密码为123456</p>
<p>set password for ‘root’@’localhost’ = password(‘123456’);</p>
<p>set password for ‘root’@’%’ = password(‘123456’);</p>
<p>set password for ‘root’@’127.0.0.1’ = password(‘123456’);</p>
<p>set password for ‘root’@’::1’ = password(‘123456’);</p>
<p><img src="%5Cimages%5C%E8%AE%BE%E5%AE%9Amysql%E5%AF%86%E7%A0%81.png"></p>
<p>退出mysql控制台，再次使用mysql -u root -p进入，需要输入密码，输入123456，正确进入mysql</p>
<p><img src="%5Cimages%5C%E6%B5%8B%E8%AF%95mysql%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E6%88%90%E5%8A%9F.png"></p>
<p><strong>安装Navicat</strong></p>
<p>经过以上步骤mysql安装配置完毕，为了方便使用mysql数据库，我们来安装一个图形化mysql客户端工具Navicat</p>
<p>解压Navicat Premium.zip到指定目录(例如:D:\Navicat Premium)</p>
<p>进入Navicat Premium解压目录中，双击”navicat.exe”，启动navicat，进入navicat图形化控制台</p>
<p>点击”连接”-&gt;MySQL，输入”连接名”，”密码”，连接数据库</p>
<p><img src="%5Cimages%5Cnavicat01.png"></p>
<p><img src="%5Cimages%5Cnavicat02.png"></p>
<p>点击”确定”，则可以在navicat控制台中看到本机数据库，并可以开始操作</p>
<p><img src="%5Cimages%5Cnavicat03.png"></p>
<p><strong>SQL简介</strong></p>
<p>SQL 指结构化查询语言，全称是 Structured Query Language。</p>
<p>SQL 让您可以访问和处理数据库。</p>
<p>案例:在mysql数据库中创建测试库test，在test数据库中创建数据表student，并使用SQL完成学生简单的新增、修改、查询、删除</p>
<p>创建数据库test</p>
<p>右键”localhost”连接，选择”新建数据库”</p>
<p><img src="%5Cimages%5Cmysql%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p>
<p>输入数据库名称test，字符集选择utf-8，排序规则选择utf8_general_ci，点击确定</p>
<p><img src="%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%9302.png"></p>
<p>创建数据库test完成</p>
<p><img src="%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%9303.png"></p>
<p>在test数据库中创建数据表student</p>
<p>双击打开数据库test</p>
<p><img src="%5Cimages%5Cmysql%E6%89%93%E5%BC%80%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p>
<p>右键单击”表”，选择”新建表”</p>
<p><img src="%5Cimages%5Cmysql%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A801.png"></p>
<p>输入student表中id，学生姓名、性别、学号信息</p>
<p><img src="%5Cimages%5Cmysql%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E8%A1%A802.png"></p>
<p>其中id不代表任何学生信息，作为主键，唯一标识一行学生信息</p>
<p><img src="%5Cimages%5Cid%E4%B8%BB%E9%94%AE%E8%AF%B4%E6%98%8E.png"></p>
<p>点击”确定”，输入表名即可</p>
<p><img src="%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A803.png"></p>
<p>数据表student创建成功</p>
<p><img src="%5Cimages%5Cmysql%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A804.png"></p>
<p>使用SQL完成学生信息新增、修改、删除、查询</p>
<p>(1)新增数据</p>
<p>点击student表，点击”查询”，打开查询编辑器</p>
<p><img src="%5Cimages%5Csql01.png"></p>
<p>在查询编辑器中输入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">name</span>,sex,code) <span class="keyword">values</span> (<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1001&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">name</span>,sex,code) <span class="keyword">values</span> (<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1002&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">name</span>,sex,code) <span class="keyword">values</span> (<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1003&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">name</span>,sex,code) <span class="keyword">values</span> (<span class="string">&#x27;张小妹&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1004&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>点击”运行”，并双击student表名，查看表中信息</p>
<p><img src="%5Cimages%5Csql02.png"></p>
<p><img src="%5Cimages%5Csql03.png"></p>
<p>(2)修改数据</p>
<p>在查询编辑器中输入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> code=<span class="string">&#x27;1005&#x27;</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>可以看到张三的学号从1001修改为1005</p>
<p><img src="%5Cimages%5Csql%E4%BF%AE%E6%94%B9.png"></p>
<p>(3)删除数据</p>
<p>在查询编辑器中输入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>可以看到王五的信息被删除</p>
<p><img src="%5Cimages%5Csql04.png"></p>
<p>(4)查询数据</p>
<p>查询性别为”男”的学生信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,sex,code <span class="keyword">from</span> student <span class="keyword">where</span> sex=<span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="%5Cimages%5Csql05.png"></p>
<h3 id="2-2-3、mysql总结"><a href="#2-2-3、mysql总结" class="headerlink" title="2.2.3、mysql总结"></a>2.2.3、mysql总结</h3><p>在此只是讲解了mysql数据库的安装以及简单的sql增、删、改、查，更多的mysql技术(DDL、DML、DQL、存储引擎、事务、视图、存储过程、复杂SQL编写等)，将在其后大数据课程中详细讲解。</p>
<h2 id="2-3、Maven安装"><a href="#2-3、Maven安装" class="headerlink" title="2.3、Maven安装"></a>2.3、Maven安装</h2><h3 id="2-3-1、jar包说明"><a href="#2-3-1、jar包说明" class="headerlink" title="2.3.1、jar包说明"></a>2.3.1、jar包说明</h3><p>在软件领域，JAR文件（Java归档，英语：Java Archive）为一种软件包文件格式，通常用于聚合大量的Java类文件、相关的元数据和资源（文本、图片等）文件到一个文件，以便开发Java平台应用软件或库。</p>
<p>JAR文件为一种归档文件，以ZIP格式构建，以.jar为文件扩展名。用户可以使用JDK自带的jar命令创建或提取JAR文件。</p>
<p><img src="%5Cimages%5Ca10.png"></p>
<h3 id="2-3-2、maven简介"><a href="#2-3-2、maven简介" class="headerlink" title="2.3.2、maven简介"></a>2.3.2、maven简介</h3><p>Maven官网：<a target="_blank" rel="noopener" href="http://maven.apache.org/">http://maven.apache.org/</a> </p>
<p><img src="%5Cimages%5Ca11.png"></p>
<p>Maven 是 Apache 下的一个纯 Java 开发的开源项目。基于项目对象模型（缩写：POM）概念，Maven利用一个中央信息片断能管理一个项目的构建、报告和文档等步骤。</p>
<p>Maven 是一个项目管理工具，可以对 Java 项目进行构建、依赖管理。</p>
<p>Maven的jar包管理模式</p>
<p><img src="%5Cimages%5Ca12.png"></p>
<h3 id="2-3-3、windows-maven环境安装"><a href="#2-3-3、windows-maven环境安装" class="headerlink" title="2.3.3、windows maven环境安装"></a>2.3.3、windows maven环境安装</h3><p>  Maven下载：<a target="_blank" rel="noopener" href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a></p>
<p>  (1) 首先要确定jdk 已经安装和配置</p>
<pre><code>      把maven解压到放到D盘</code></pre>
<p>  (2) 配置maven环境变量：MAVEN_HOME  </p>
<p>​        E:\apache-maven-3.5.3</p>
<p>  (3) 同时配置path:%MAVEN_HOME%\bin</p>
<p>  (4) 修改maven settings.xml文件</p>
<p>把maven安装目录\conf中settings.xml内容修改如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class="line"><span class="comment">or more contributor license agreements.  See the NOTICE file</span></span><br><span class="line"><span class="comment">distributed with this work for additional information</span></span><br><span class="line"><span class="comment">regarding copyright ownership.  The ASF licenses this file</span></span><br><span class="line"><span class="comment">to you under the Apache License, Version 2.0 (the</span></span><br><span class="line"><span class="comment">&quot;License&quot;); you may not use this file except in compliance</span></span><br><span class="line"><span class="comment">with the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Unless required by applicable law or agreed to in writing,</span></span><br><span class="line"><span class="comment">software distributed under the License is distributed on an</span></span><br><span class="line"><span class="comment">&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></span><br><span class="line"><span class="comment">KIND, either express or implied.  See the License for the</span></span><br><span class="line"><span class="comment">specific language governing permissions and limitations</span></span><br><span class="line"><span class="comment">under the License.</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> | This is the configuration file for Maven. It can be specified at two levels:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |  1. User Level. This settings.xml file provides configuration for a single user,</span></span><br><span class="line"><span class="comment"> |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 <span class="doctag">NOTE:</span> This location can be overridden with the CLI option:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 -s /path/to/user/settings.xml</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span></span><br><span class="line"><span class="comment"> |                 users on a machine (assuming they&#x27;re all using the same Maven</span></span><br><span class="line"><span class="comment"> |                 installation). It&#x27;s normally provided in</span></span><br><span class="line"><span class="comment"> |                 $&#123;maven.conf&#125;/settings.xml.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 <span class="doctag">NOTE:</span> This location can be overridden with the CLI option:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 -gs /path/to/global/settings.xml</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> | The sections in this sample file are intended to give you a running start at</span></span><br><span class="line"><span class="comment"> | getting the most out of your Maven installation. Where appropriate, the default</span></span><br><span class="line"><span class="comment"> | values (values used when the setting is not specified) are provided.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- localRepository</span></span><br><span class="line"><span class="comment">   | The path to the local repository maven will use to store artifacts.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: $&#123;user.home&#125;/.m2/repository</span></span><br><span class="line"><span class="comment">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\maven-repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- interactiveMode</span></span><br><span class="line"><span class="comment">   | This will determine whether maven prompts you when it needs input. If set to false,</span></span><br><span class="line"><span class="comment">   | maven will use a sensible default value, perhaps based on some other setting, for</span></span><br><span class="line"><span class="comment">   | the parameter in question.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: true</span></span><br><span class="line"><span class="comment">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- offline</span></span><br><span class="line"><span class="comment">   | Determines whether maven should attempt to connect to the network when executing a build.</span></span><br><span class="line"><span class="comment">   | This will have an effect on artifact downloads, artifact deployment, and others.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: false</span></span><br><span class="line"><span class="comment">  &lt;offline&gt;false&lt;/offline&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- pluginGroups</span></span><br><span class="line"><span class="comment">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span></span><br><span class="line"><span class="comment">   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers</span></span><br><span class="line"><span class="comment">   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- pluginGroup</span></span><br><span class="line"><span class="comment">     | Specifies a further group identifier to use for plugin lookup.</span></span><br><span class="line"><span class="comment">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- proxies</span></span><br><span class="line"><span class="comment">   | This is a list of proxies which can be used on this machine to connect to the network.</span></span><br><span class="line"><span class="comment">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span></span><br><span class="line"><span class="comment">   | specification in this list marked as active will be used.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- proxy</span></span><br><span class="line"><span class="comment">     | Specification for one proxy, to be used in connecting to the network.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;proxy&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;optional&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;active&gt;true&lt;/active&gt;</span></span><br><span class="line"><span class="comment">      &lt;protocol&gt;http&lt;/protocol&gt;</span></span><br><span class="line"><span class="comment">      &lt;username&gt;proxyuser&lt;/username&gt;</span></span><br><span class="line"><span class="comment">      &lt;password&gt;proxypass&lt;/password&gt;</span></span><br><span class="line"><span class="comment">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span></span><br><span class="line"><span class="comment">      &lt;port&gt;80&lt;/port&gt;</span></span><br><span class="line"><span class="comment">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span></span><br><span class="line"><span class="comment">    &lt;/proxy&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- servers</span></span><br><span class="line"><span class="comment">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span></span><br><span class="line"><span class="comment">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- server</span></span><br><span class="line"><span class="comment">     | Specifies the authentication information to use when connecting to a particular server, identified by</span></span><br><span class="line"><span class="comment">     | a unique name within the system (referred to by the &#x27;id&#x27; attribute below).</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | <span class="doctag">NOTE:</span> You should either specify username/password OR privateKey/passphrase, since these pairings are</span></span><br><span class="line"><span class="comment">     |       used together.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;server&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;username&gt;repouser&lt;/username&gt;</span></span><br><span class="line"><span class="comment">      &lt;password&gt;repopwd&lt;/password&gt;</span></span><br><span class="line"><span class="comment">    &lt;/server&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Another sample, using keys to authenticate.</span></span><br><span class="line"><span class="comment">    &lt;server&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;siteServer&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span></span><br><span class="line"><span class="comment">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span></span><br><span class="line"><span class="comment">    &lt;/server&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- mirrors</span></span><br><span class="line"><span class="comment">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span></span><br><span class="line"><span class="comment">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span></span><br><span class="line"><span class="comment">   | it to several places.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | That repository definition will have a unique id, so we can create a mirror reference for that</span></span><br><span class="line"><span class="comment">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span></span><br><span class="line"><span class="comment">   | server for that repository.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mirror</span></span><br><span class="line"><span class="comment">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span></span><br><span class="line"><span class="comment">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span></span><br><span class="line"><span class="comment">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;mirror&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;mirrorId&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span></span><br><span class="line"><span class="comment">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span></span><br><span class="line"><span class="comment">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span></span><br><span class="line"><span class="comment">    &lt;/mirror&gt;</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 阿里云仓库 --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		&lt;mirror&gt;</span></span><br><span class="line"><span class="comment">			&lt;id&gt;alimaven&lt;/id&gt;</span></span><br><span class="line"><span class="comment">			&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span></span><br><span class="line"><span class="comment">			&lt;name&gt;aliyun maven&lt;/name&gt;</span></span><br><span class="line"><span class="comment">			&lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;</span></span><br><span class="line"><span class="comment">		&lt;/mirror&gt;</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 中央仓库1 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">id</span>&gt;</span>repo1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 中央仓库2 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- profiles</span></span><br><span class="line"><span class="comment">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span></span><br><span class="line"><span class="comment">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span></span><br><span class="line"><span class="comment">   | specific paths and repository locations which allow the build to work in the local environment.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span></span><br><span class="line"><span class="comment">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span></span><br><span class="line"><span class="comment">   | dereferenced during the build process to configure the cactus plugin.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span></span><br><span class="line"><span class="comment">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span></span><br><span class="line"><span class="comment">   | relies on the detection of a system property, either matching a particular value for the property,</span></span><br><span class="line"><span class="comment">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span></span><br><span class="line"><span class="comment">   | value of &#x27;1.4&#x27; might activate a profile when the build is executed on a JDK version of &#x27;1.4.2_07&#x27;.</span></span><br><span class="line"><span class="comment">   | Finally, the list of active profiles can be specified directly from the command line.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | <span class="doctag">NOTE:</span> For profiles defined in the settings.xml, you are restricted to specifying only artifact</span></span><br><span class="line"><span class="comment">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span></span><br><span class="line"><span class="comment">   |       variables for plugins in the POM.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- profile</span></span><br><span class="line"><span class="comment">     | Specifies a set of introductions to the build process, to be activated using one or more of the</span></span><br><span class="line"><span class="comment">     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</span></span><br><span class="line"><span class="comment">     | or the command line, profiles have to have an ID that is unique.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | An encouraged best practice for profile identification is to use a consistent naming convention</span></span><br><span class="line"><span class="comment">     | for profiles, such as &#x27;env-dev&#x27;, &#x27;env-test&#x27;, &#x27;env-production&#x27;, &#x27;user-jdcasey&#x27;, &#x27;user-brett&#x27;, etc.</span></span><br><span class="line"><span class="comment">     | This will make it more intuitive to understand what the set of introduced profiles is attempting</span></span><br><span class="line"><span class="comment">     | to accomplish, particularly when you only have a list of profile id&#x27;s for debug.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</span></span><br><span class="line"><span class="comment">    &lt;profile&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;jdk-1.4&lt;/id&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;activation&gt;</span></span><br><span class="line"><span class="comment">        &lt;jdk&gt;1.4&lt;/jdk&gt;</span></span><br><span class="line"><span class="comment">      &lt;/activation&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;repositories&gt;</span></span><br><span class="line"><span class="comment">        &lt;repository&gt;</span></span><br><span class="line"><span class="comment">          &lt;id&gt;jdk14&lt;/id&gt;</span></span><br><span class="line"><span class="comment">          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</span></span><br><span class="line"><span class="comment">          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;</span></span><br><span class="line"><span class="comment">          &lt;layout&gt;default&lt;/layout&gt;</span></span><br><span class="line"><span class="comment">          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</span></span><br><span class="line"><span class="comment">        &lt;/repository&gt;</span></span><br><span class="line"><span class="comment">      &lt;/repositories&gt;</span></span><br><span class="line"><span class="comment">    &lt;/profile&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">profile</span>&gt;</span>     </span><br><span class="line">			<span class="tag">&lt;<span class="name">id</span>&gt;</span>JDK-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span>       </span><br><span class="line">			<span class="tag">&lt;<span class="name">activation</span>&gt;</span>       </span><br><span class="line">				<span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span>       </span><br><span class="line">				<span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span>       </span><br><span class="line">			<span class="tag">&lt;/<span class="name">activation</span>&gt;</span>       </span><br><span class="line">			<span class="tag">&lt;<span class="name">properties</span>&gt;</span>       </span><br><span class="line">				<span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span>       </span><br><span class="line">				<span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span>       </span><br><span class="line">				<span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span>       </span><br><span class="line">			<span class="tag">&lt;/<span class="name">properties</span>&gt;</span>       </span><br><span class="line">		<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     | Here is another profile, activated by the system property &#x27;target-env&#x27; with a value of &#x27;dev&#x27;,</span></span><br><span class="line"><span class="comment">     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</span></span><br><span class="line"><span class="comment">     | might hypothetically look like:</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | ...</span></span><br><span class="line"><span class="comment">     | &lt;plugin&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     |   &lt;configuration&gt;</span></span><br><span class="line"><span class="comment">     |     &lt;tomcatLocation&gt;$&#123;tomcatPath&#125;&lt;/tomcatLocation&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;/configuration&gt;</span></span><br><span class="line"><span class="comment">     | &lt;/plugin&gt;</span></span><br><span class="line"><span class="comment">     | ...</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | <span class="doctag">NOTE:</span> If you just wanted to inject this configuration whenever someone set &#x27;target-env&#x27; to</span></span><br><span class="line"><span class="comment">     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;profile&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;env-dev&lt;/id&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;activation&gt;</span></span><br><span class="line"><span class="comment">        &lt;property&gt;</span></span><br><span class="line"><span class="comment">          &lt;name&gt;target-env&lt;/name&gt;</span></span><br><span class="line"><span class="comment">          &lt;value&gt;dev&lt;/value&gt;</span></span><br><span class="line"><span class="comment">        &lt;/property&gt;</span></span><br><span class="line"><span class="comment">      &lt;/activation&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;properties&gt;</span></span><br><span class="line"><span class="comment">        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</span></span><br><span class="line"><span class="comment">      &lt;/properties&gt;</span></span><br><span class="line"><span class="comment">    &lt;/profile&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- activeProfiles</span></span><br><span class="line"><span class="comment">   | List of profiles that are active for all builds.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">  &lt;activeProfiles&gt;</span></span><br><span class="line"><span class="comment">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span></span><br><span class="line"><span class="comment">    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</span></span><br><span class="line"><span class="comment">  &lt;/activeProfiles&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意</p>
<p>其中localRepository指定为本机已创建好的maven本地仓库文件夹</p>
<p> (5)使用此settings.xml覆盖C:\Users\admin\.m2\下的settings.xml</p>
<p>  (6) 测试:  mvn  –version</p>
<h2 id="2-4、Idea安装"><a href="#2-4、Idea安装" class="headerlink" title="2.4、Idea安装"></a>2.4、Idea安装</h2><h3 id="2-4-1、Idea简介"><a href="#2-4-1、Idea简介" class="headerlink" title="2.4.1、Idea简介"></a>2.4.1、Idea简介</h3><p>IDEA 全称IntelliJ IDEA，是用于java语言开发的集成环境（也可用于其他语言  例如:我们在当前项目中编写Spark程序使用的Scala语言），IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。</p>
<h3 id="2-4-2、Idea安装流程"><a href="#2-4-2、Idea安装流程" class="headerlink" title="2.4.2、Idea安装流程"></a>2.4.2、Idea安装流程</h3><p>点击idea安装程序ideaIU-2020.1-windows.exe开始安装</p>
<p>点击”next”直接下一步安装即可</p>
<p><img src="%5Cimages%5Cidea%E5%AE%89%E8%A3%8501.png"></p>
<p>指定idea安装位置</p>
<p><img src="%5Cimages%5Cidea%E5%AE%89%E8%A3%8502.png"></p>
<p>选择30天试用期即可</p>
<p><img src="%5Cimages%5Cidea%E5%AE%89%E8%A3%8503.png"></p>
<h3 id="2-4-3、Idea配置JDK"><a href="#2-4-3、Idea配置JDK" class="headerlink" title="2.4.3、Idea配置JDK"></a>2.4.3、Idea配置JDK</h3><p><img src="%5Cimages%5Ca5.png"></p>
<img src=".\images\a6.png" alt="image-20200915142913656" style="zoom: 80%;" />

<h3 id="2-4-4、Idea配置Maven"><a href="#2-4-4、Idea配置Maven" class="headerlink" title="2.4.4、Idea配置Maven"></a>2.4.4、Idea配置Maven</h3><img src=".\images\a13.png" alt="image-20200915150837422" style="zoom:80%;" />

<p><img src=".%5Cimages%5Ca14.png" alt="image-20200915150922260"></p>
<h1 id="3、Scala"><a href="#3、Scala" class="headerlink" title="3、Scala"></a>3、Scala</h1><h2 id="3-1、Scala概述和特点"><a href="#3-1、Scala概述和特点" class="headerlink" title="3.1、Scala概述和特点"></a>3.1、Scala概述和特点</h2><p><strong>概述:</strong></p>
<ul>
<li>Scala起源于2001年</li>
<li>Scala是Scalable Language的简写，是一门多范式语言</li>
<li>Spark使用Scala编写，为了更好的学习Spark，需要掌握Scala编程语言</li>
<li>Spark催生了Scala语言的兴起</li>
</ul>
<p><strong>特点:</strong></p>
<ul>
<li>简洁高效</li>
<li>同时支持面向对象和函数式编程</li>
<li>源于Java，同时把函数式编程思想融入Scala</li>
<li>Scala语言以JVM为运行环境</li>
</ul>
<h2 id="3-2、Scala、Java、JVM的关系"><a href="#3-2、Scala、Java、JVM的关系" class="headerlink" title="3.2、Scala、Java、JVM的关系"></a>3.2、Scala、Java、JVM的关系</h2><ul>
<li><p>Scala源代码会被编程为Java的字节码文件(.class文件)</p>
</li>
<li><p>字节码文件运行于JVM</p>
</li>
</ul>
<h2 id="3-3、windows中搭建Scala开发环境"><a href="#3-3、windows中搭建Scala开发环境" class="headerlink" title="3.3、windows中搭建Scala开发环境"></a>3.3、windows中搭建Scala开发环境</h2><ul>
<li><p>安装jdk1.8</p>
</li>
<li><p>下载Scala安装scala-2.11.8.zip</p>
</li>
<li><p>把压缩包解压 ，老师的环境是解压到e盘根目录下E:\scala-2.11.8</p>
<p><strong>注意</strong></p>
<p>解压路径不要有中文，不要有特殊字符</p>
</li>
<li><p>配置环境变量</p>
<p><strong>配置SCALA_HOME</strong></p>
<p><img src="%5Cimages%5Cscalahome%E9%85%8D%E7%BD%AE.png"></p>
</li>
</ul>
<p>​       <strong>配置PATH</strong></p>
<p>​      <img src="%5Cimages%5Cscalapath%E9%85%8D%E7%BD%AE.png"></p>
<ul>
<li>从命令行输入scala指令，测试安装效果</li>
</ul>
<p><img src="%5Cimages%5Cscala%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C%E6%B5%8B%E8%AF%95.png"></p>
<ul>
<li>安装成功!</li>
</ul>
<h2 id="3-4、Idea中安装Scala插件"><a href="#3-4、Idea中安装Scala插件" class="headerlink" title="3.4、Idea中安装Scala插件"></a>3.4、Idea中安装Scala插件</h2><ul>
<li><p>下载idea的Scala插件安装包scala-intellij-bin-2020.1.39.zip</p>
</li>
<li><p>将该插件放到指定目录 ，建议Scala安装目录下</p>
</li>
<li><p>将插件安装到idea</p>
<p>依次点击”File”-&gt;”Settings”</p>
<p><img src="%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8501.png"></p>
<p>点击”Plugins”，选择”Install Plugin from Disk…”</p>
<p><img src="%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8502.png"></p>
<p> 点击下方”OK”-&gt;”Apply”，重新启动idea即可</p>
<p> 再次进入到”File”-&gt;”Settings”-&gt;”Plugins”，可以看到Scala插件已安装成功</p>
</li>
</ul>
<p><img src="%5Cimages%5Cideascala%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%8503.png"></p>
<h2 id="3-5、第一个程序HelloWorld"><a href="#3-5、第一个程序HelloWorld" class="headerlink" title="3.5、第一个程序HelloWorld"></a>3.5、第一个程序HelloWorld</h2><p><strong>maven pom.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.kkb.scala.demo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ScalaDemo02<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 添加scala的依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.scala-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-library<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;This is my first Scala program&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-6、输出方式"><a href="#3-6、输出方式" class="headerlink" title="3.6、输出方式"></a>3.6、输出方式</h2><h3 id="3-6-1、使用”-”进行连接"><a href="#3-6-1、使用”-”进行连接" class="headerlink" title="3.6.1、使用”+”进行连接"></a>3.6.1、使用”+”进行连接</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Print01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//定义变量name代表姓名</span></span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">        <span class="comment">//使用&quot;+&quot;号输出姓名</span></span><br><span class="line">        println(<span class="string">&quot;my name is :&quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-6-2、使用printf输出，利用-传递值"><a href="#3-6-2、使用printf输出，利用-传递值" class="headerlink" title="3.6.2、使用printf输出，利用%传递值"></a>3.6.2、使用printf输出，利用%传递值</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Print02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//定义变量name代表姓名</span></span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">        <span class="comment">//使用&quot;%&quot;号输出姓名</span></span><br><span class="line">        printf(<span class="string">&quot;my name is :%s&quot;</span>,name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-6-3、通过-引用值"><a href="#3-6-3、通过-引用值" class="headerlink" title="3.6.3、通过$引用值"></a>3.6.3、通过$引用值</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Print03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">        printf(<span class="string">s&quot;my name is <span class="subst">$name</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-7、注释"><a href="#3-7、注释" class="headerlink" title="3.7、注释"></a>3.7、注释</h2><h3 id="3-7-1、注释的作用"><a href="#3-7-1、注释的作用" class="headerlink" title="3.7.1、注释的作用"></a>3.7.1、注释的作用</h3><ul>
<li>用于注解说明解释程序的文字就是注释，注释提高了代码的阅读性</li>
<li>注释是一个程序员必须要具有的良好编程习惯</li>
<li>先将自己的思想通过注释先整理，再用代码去体现</li>
<li>编写注释的过程就是编程思想逐步细化的过程</li>
</ul>
<h3 id="3-7-2、scala中的注释方式"><a href="#3-7-2、scala中的注释方式" class="headerlink" title="3.7.2、scala中的注释方式"></a>3.7.2、scala中的注释方式</h3><p>注释可分类为单行注释、多行注释和文档注释</p>
<p>在此向大家介绍在程序体中常用的单行注释和多行注释</p>
<p><strong>单行注释:</strong></p>
<p>当注释内容较少时，可使用当注释</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Note01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//这是定义变量  变量名称是name  类型是字符串型  初始化值是&quot;tom&quot;</span></span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多行注释:</strong></p>
<p>当注释内容较多时，使用多行注释</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Note02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 这是定义变量</span></span><br><span class="line"><span class="comment">         * 变量名称是name</span></span><br><span class="line"><span class="comment">         * 类型是字符串型</span></span><br><span class="line"><span class="comment">         * 初始化值是&quot;tom&quot;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-8、变量"><a href="#3-8、变量" class="headerlink" title="3.8、变量"></a>3.8、变量</h2><h3 id="3-8-1、变量的概念"><a href="#3-8-1、变量的概念" class="headerlink" title="3.8.1、变量的概念"></a>3.8.1、变量的概念</h3><ul>
<li>变量是程序的基本组成单位</li>
<li>变量相当于内存中一个数据存储空间的表示</li>
</ul>
<h3 id="3-8-2、变量的使用方式"><a href="#3-8-2、变量的使用方式" class="headerlink" title="3.8.2、变量的使用方式"></a>3.8.2、变量的使用方式</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Var01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-8-3、变量的特点"><a href="#3-8-3、变量的特点" class="headerlink" title="3.8.3、变量的特点"></a>3.8.3、变量的特点</h3><ul>
<li><p>定义变量时需要指定变量的名称、类型和初始化值</p>
</li>
<li><p>在定义变量时，其类型可以省略，scala可以使用自动类型推导，自动推导出变量类型</p>
</li>
<li><p>scala属于强类型语言，变量类型一定确定，其后不可再修改</p>
<p><strong>强类型:数据类型一旦确定，其后不可修改</strong></p>
<p><strong>弱类型:不强调类型的重要性，其类型由指定值类型确定</strong></p>
</li>
</ul>
<h3 id="3-8-4、val的使用"><a href="#3-8-4、val的使用" class="headerlink" title="3.8.4、val的使用"></a>3.8.4、val的使用</h3><p>使用val修饰的变量即Scala中的常量，其值一旦定义则不可再修改</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Val01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//使用var定义变量</span></span><br><span class="line">        <span class="keyword">var</span> name01:<span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">        name01 = <span class="string">&quot;elen&quot;</span> <span class="comment">//name的值定以后可以再次修改</span></span><br><span class="line">        <span class="comment">//使用val定义变量</span></span><br><span class="line">        <span class="keyword">val</span> name02:<span class="type">String</span> = <span class="string">&quot;sam&quot;</span></span><br><span class="line">        name02 = <span class="string">&quot;error&quot;</span><span class="comment">//错误:name02的值不可再修改</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-9、数据类型"><a href="#3-9、数据类型" class="headerlink" title="3.9、数据类型"></a>3.9、数据类型</h2><h3 id="3-9-1、数据类型的定义"><a href="#3-9-1、数据类型的定义" class="headerlink" title="3.9.1、数据类型的定义"></a>3.9.1、数据类型的定义</h3><p>数据类型用来指定变量在内存中占用空间大小</p>
<h3 id="3-9-1、Scala数据类型体系"><a href="#3-9-1、Scala数据类型体系" class="headerlink" title="3.9.1、Scala数据类型体系"></a>3.9.1、Scala数据类型体系</h3><ul>
<li><p>Scala中的数据类型分为值类型(AnyVal)和引用类型(AnyRef)两大类</p>
</li>
<li><p>Scala中数类型相对复杂，用以把面向对象编程和面向函数编程进行融合</p>
<p><img src="%5Cimages%5Cscala%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB.png"></p>
</li>
</ul>
<h3 id="3-9-2、Unit类型、Null类型、Nothing类型说明"><a href="#3-9-2、Unit类型、Null类型、Nothing类型说明" class="headerlink" title="3.9.2、Unit类型、Null类型、Nothing类型说明"></a>3.9.2、Unit类型、Null类型、Nothing类型说明</h3><p><img src="%5Cimages%5Cunit%E3%80%81null%E3%80%81nothing%E8%AF%B4%E6%98%8E.png"></p>
<h2 id="3-10、运算符"><a href="#3-10、运算符" class="headerlink" title="3.10、运算符"></a>3.10、运算符</h2><h3 id="3-10-1、运算符使用目的"><a href="#3-10-1、运算符使用目的" class="headerlink" title="3.10.1、运算符使用目的"></a>3.10.1、运算符使用目的</h3><ul>
<li>使用运算符连接变量，完成Scala程序语句体</li>
<li>用来表示数据完成相关操作</li>
</ul>
<h3 id="3-10-2、Scala运算符分类"><a href="#3-10-2、Scala运算符分类" class="headerlink" title="3.10.2、Scala运算符分类"></a>3.10.2、Scala运算符分类</h3><ul>
<li>算术运算符</li>
<li>赋值运算符</li>
<li>比较运算符</li>
<li>逻辑运算符</li>
<li>位运算符</li>
</ul>
<h3 id="3-10-3、算术运算符"><a href="#3-10-3、算术运算符" class="headerlink" title="3.10.3、算术运算符"></a>3.10.3、算术运算符</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">var</span> b:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        <span class="keyword">var</span> c:<span class="type">Int</span> = a + b <span class="comment">//算术运算符</span></span><br><span class="line">        println(<span class="string">&quot;c:&quot;</span>+c)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%5Cimages%5C%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6.png"></p>
<h3 id="3-10-4、赋值运算符"><a href="#3-10-4、赋值运算符" class="headerlink" title="3.10.4、赋值运算符"></a>3.10.4、赋值运算符</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span> <span class="comment">//赋值运算符</span></span><br><span class="line">        <span class="keyword">var</span> b:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        a += <span class="number">10</span> <span class="comment">//赋值运算符</span></span><br><span class="line">        println(<span class="string">&quot;a:&quot;</span>+a)</span><br><span class="line">        b -= <span class="number">5</span> <span class="comment">//赋值运算符</span></span><br><span class="line">        println(<span class="string">&quot;b:&quot;</span>+b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%5Cimages%5C%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A601.png"></p>
<p><img src="%5Cimages%5C%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A602.png"></p>
<h3 id="3-10-5、比较运算符"><a href="#3-10-5、比较运算符" class="headerlink" title="3.10.5、比较运算符"></a>3.10.5、比较运算符</h3><ul>
<li>比较运算符的结果是一个 Boolean 值，不是ture ,就是false</li>
<li>比较运算符通常用于ifelse的判定条件</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">var</span> b:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        println(a&gt;b)<span class="comment">//false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%5Cimages%5C%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6.png"></p>
<h3 id="3-10-6、逻辑运算符"><a href="#3-10-6、逻辑运算符" class="headerlink" title="3.10.6、逻辑运算符"></a>3.10.6、逻辑运算符</h3><p>用于连接多个条件（一般来讲就是关系表达式），最终的结果也是一个 Boolean 值</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">var</span> b:<span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line">        println(a&amp;&amp;b)<span class="comment">//false</span></span><br><span class="line">        println(a||b)<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%5Cimages%5C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.png"></p>
<h2 id="3-11、程序流程"><a href="#3-11、程序流程" class="headerlink" title="3.11、程序流程"></a>3.11、程序流程</h2><h3 id="3-11-1、程序流程说明"><a href="#3-11-1、程序流程说明" class="headerlink" title="3.11.1、程序流程说明"></a>3.11.1、程序流程说明</h3><p>程序流程决定了程序在运行期间的执行路径</p>
<p><strong>程序共有三种执行结构:</strong></p>
<p>顺序结构</p>
<p>分支选择结构</p>
<p>循环结构</p>
<h3 id="3-11-2、分支选择ifelse"><a href="#3-11-2、分支选择ifelse" class="headerlink" title="3.11.2、分支选择ifelse"></a>3.11.2、分支选择ifelse</h3><h4 id="3-11-2-1、分支结构说明"><a href="#3-11-2-1、分支结构说明" class="headerlink" title="3.11.2.1、分支结构说明"></a>3.11.2.1、分支结构说明</h4><p>根据判定条件最终值不同，选择不同的执行路径</p>
<p><strong>单分支结构:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> age:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        <span class="keyword">if</span> (age&gt;<span class="number">18</span>)&#123;</span><br><span class="line">            println(<span class="string">&quot;超过18岁，已成年&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>双分支结构:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> age:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        <span class="keyword">if</span> (age&gt;<span class="number">18</span>)&#123;</span><br><span class="line">            println(<span class="string">&quot;年龄超过18岁，已成年&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            println(<span class="string">&quot;年龄未满18岁，未成年&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多分支结构:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> score:<span class="type">Double</span> = <span class="number">90</span></span><br><span class="line">        <span class="keyword">if</span> (score&lt;<span class="number">60</span>)&#123;</span><br><span class="line">            println(<span class="string">&quot;考试不及格，下次努力&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (score&lt;<span class="number">80</span>)&#123;</span><br><span class="line">            println(<span class="string">&quot;成绩中等，奖励ipad，继续努力&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            println(<span class="string">&quot;成绩优等，奖励iphone10，继续保持&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>嵌套分支结构</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> score:<span class="type">Double</span> = <span class="number">90</span></span><br><span class="line">        <span class="keyword">if</span> (score&lt;<span class="number">60</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(score&lt;<span class="number">50</span>)&#123;</span><br><span class="line">                println(<span class="string">&quot;差距太大，要加倍努力&quot;</span>)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                println(<span class="string">&quot;就差一点点，再努力一下&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (score&lt;<span class="number">80</span>)&#123;</span><br><span class="line">            println(<span class="string">&quot;成绩中等，奖励ipad，继续努力&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            println(<span class="string">&quot;成绩优等，奖励iphone10，继续保持&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-11-2-2、分支结构的返回值"><a href="#3-11-2-2、分支结构的返回值" class="headerlink" title="3.11.2.2、分支结构的返回值"></a>3.11.2.2、分支结构的返回值</h4><ul>
<li>在Scala中任何表达式都是有返回值的，所以ifelse分支结构具有返回值</li>
<li>具体的返回值取决于满足条件的代码体的最后一行内容</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">90</span></span><br><span class="line">        <span class="keyword">var</span> b = <span class="keyword">if</span> (a&gt;<span class="number">20</span>)&#123;</span><br><span class="line">            <span class="string">&quot;这个数字大于20&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(<span class="string">&quot;b:&quot;</span>+b)<span class="comment">//&quot;这个数字大于20&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>单分支中只有if分支，如果不满足if分只判定条件，则返回Unit</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">var</span> b = <span class="keyword">if</span> (a&gt;<span class="number">20</span>)&#123;</span><br><span class="line">            <span class="string">&quot;这个数字大于20&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(<span class="string">&quot;b:&quot;</span>+b)<span class="comment">//()即Unit</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-11-3、循环"><a href="#3-11-3、循环" class="headerlink" title="3.11.3、循环"></a>3.11.3、循环</h3><h4 id="3-11-3-1、循环结构说明"><a href="#3-11-3-1、循环结构说明" class="headerlink" title="3.11.3.1、循环结构说明"></a>3.11.3.1、循环结构说明</h4><p>多次重复执行的行为，定义为循环，往复多次执行</p>
<h4 id="3-11-3-2、for循环"><a href="#3-11-3-2、for循环" class="headerlink" title="3.11.3.2、for循环"></a>3.11.3.2、for循环</h4><h5 id="3-11-3-2-1、范围数据的循环处理"><a href="#3-11-3-2-1、范围数据的循环处理" class="headerlink" title="3.11.3.2.1、范围数据的循环处理"></a>3.11.3.2.1、范围数据的循环处理</h5><p><strong>使用to处理范围数据的循环:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span>)&#123;</span><br><span class="line">           print(i+<span class="string">&quot; &quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="comment">//1 2 3 4 5 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用until处理范围数据的循环:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">for</span> (i &lt;- <span class="number">1</span> until  <span class="number">5</span>)&#123;</span><br><span class="line">           print(i+<span class="string">&quot; &quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="comment">//1 2 3 4 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="3-11-3-2-2、循环守卫"><a href="#3-11-3-2-2、循环守卫" class="headerlink" title="3.11.3.2.2、循环守卫"></a>3.11.3.2.2、循环守卫</h5><p>循环守卫，即使用循环保护式（也称条件判断式，守卫）。保护式为 true 则进入循环体内部，为 false</p>
<p>则跳过</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span> <span class="keyword">if</span> i!=<span class="number">2</span>)&#123;</span><br><span class="line">           print(i+<span class="string">&quot; &quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="comment">//因为循环守卫  不会输出2</span></span><br><span class="line">        <span class="comment">//1 3 4 5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="3-11-3-2-3、循环的返回值"><a href="#3-11-3-2-3、循环的返回值" class="headerlink" title="3.11.3.2.3、循环的返回值"></a>3.11.3.2.3、循环的返回值</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> a = <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span> ) <span class="keyword">yield</span> i</span><br><span class="line">        print(a)<span class="comment">//Vector(1, 2, 3, 4, 5)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-11-3-3、while循环、do…while循环"><a href="#3-11-3-3、while循环、do…while循环" class="headerlink" title="3.11.3.3、while循环、do…while循环"></a>3.11.3.3、while循环、do…while循环</h4><p><strong>while循环:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span>(a&lt;<span class="number">5</span>)&#123;</span><br><span class="line">            print(a+<span class="string">&quot; &quot;</span>)</span><br><span class="line">            a += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//1 2 3 4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>do…while循环:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">       do &#123;</span><br><span class="line">           print(a+<span class="string">&quot; &quot;</span>)</span><br><span class="line">           a += <span class="number">1</span></span><br><span class="line">       &#125;<span class="keyword">while</span>(a&lt;<span class="number">5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-11-3-4、循环中断"><a href="#3-11-3-4、循环中断" class="headerlink" title="3.11.3.4、循环中断"></a>3.11.3.4、循环中断</h4><p>循环中途终止循环执行，直接退出循环</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入scala提供的breakable函数使用</span></span><br><span class="line"><span class="keyword">import</span> util.control.<span class="type">Breaks</span>._</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">       breakable&#123;</span><br><span class="line">            <span class="keyword">while</span>(a&lt;=<span class="number">10</span>)&#123;</span><br><span class="line">                print(a+<span class="string">&quot; &quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> (a==<span class="number">8</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>()</span><br><span class="line">                &#125;</span><br><span class="line">                a += <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-12、方法和函数说明"><a href="#3-12、方法和函数说明" class="headerlink" title="3.12、方法和函数说明"></a>3.12、方法和函数说明</h2><h3 id="3-12-1、方法说明"><a href="#3-12-1、方法说明" class="headerlink" title="3.12.1、方法说明"></a>3.12.1、方法说明</h3><p>Scala中的方法和函数等同，函数使用更宽泛、更灵活，方法可以转为函数使用</p>
<h3 id="3-12-2、函数简介"><a href="#3-12-2、函数简介" class="headerlink" title="3.12.2、函数简介"></a>3.12.2、函数简介</h3><h4 id="3-12-2-1、函数定义"><a href="#3-12-2-1、函数定义" class="headerlink" title="3.12.2.1、函数定义"></a>3.12.2.1、函数定义</h4><p>可以把程序中多处共同使用的程序流程封装为函数，以便复用</p>
<h4 id="3-12-2-2、函数使用样例"><a href="#3-12-2-2、函数使用样例" class="headerlink" title="3.12.2.2、函数使用样例"></a>3.12.2.2、函数使用样例</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">       <span class="keyword">var</span> b:<span class="type">Int</span> = <span class="number">2</span></span><br><span class="line">        <span class="keyword">var</span> c = add(a,b)</span><br><span class="line">        println(<span class="string">&quot;c:&quot;</span>+c)<span class="comment">//3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实现add函数 完成求给定两数之和功能</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a1:<span class="type">Int</span>,a2:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">        a1+a2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-12-2-3、匿名函数（函数的简写形式）"><a href="#3-12-2-3、匿名函数（函数的简写形式）" class="headerlink" title="3.12.2.3、匿名函数（函数的简写形式）"></a>3.12.2.3、匿名函数（函数的简写形式）</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">var</span> c = (a:<span class="type">Int</span>,b:<span class="type">Int</span>)=&gt;&#123;a+b&#125;</span><br><span class="line">      <span class="keyword">var</span> v = c(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">     println(v)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-13、集合"><a href="#3-13、集合" class="headerlink" title="3.13、集合"></a>3.13、集合</h2><h3 id="3-13-1、集合的分类"><a href="#3-13-1、集合的分类" class="headerlink" title="3.13.1、集合的分类"></a>3.13.1、集合的分类</h3><p>在Scala中，集合分为Seq(序列)、Set(集)、Map(映射)</p>
<h3 id="3-13-2、集合的特点"><a href="#3-13-2、集合的特点" class="headerlink" title="3.13.2、集合的特点"></a>3.13.2、集合的特点</h3><ul>
<li>Scala中的集合都分为不可变集合和可变集合</li>
<li>默认使用不可变集合</li>
</ul>
<h3 id="3-13-3、集合的体系说明"><a href="#3-13-3、集合的体系说明" class="headerlink" title="3.13.3、集合的体系说明"></a>3.13.3、集合的体系说明</h3><p><strong>不可变集合体系:</strong></p>
<p><img src="%5Cimages%5C%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB.png"></p>
<p><strong>可变集合体系:</strong></p>
<p><img src="%5Cimages%5C%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB.png"></p>
<h3 id="3-13-4、数组"><a href="#3-13-4、数组" class="headerlink" title="3.13.4、数组"></a>3.13.4、数组</h3><p><strong>不可变数组处理:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> arr = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查看数组长度</span></span><br><span class="line">        <span class="comment">//println(arr.length)//2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历数组元素</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        for (i&lt;-arr)&#123;</span></span><br><span class="line"><span class="comment">            print(i+&quot; &quot;)</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改数组指定位置元素值</span></span><br><span class="line">        arr(<span class="number">0</span>) = <span class="number">3</span></span><br><span class="line">        <span class="comment">//输出测试</span></span><br><span class="line">        println(arr(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>可变数组处理:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> arr = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//改变数组长度</span></span><br><span class="line">       arr += <span class="number">4</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i&lt;-arr)&#123;</span><br><span class="line">            print(i+<span class="string">&quot; &quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-13-5、元组"><a href="#3-13-5、元组" class="headerlink" title="3.13.5、元组"></a>3.13.5、元组</h3><ul>
<li>元组也是可以理解为一个容器，可以存放各种相同或不同类型的数据</li>
<li>元组中最多存放22个元素</li>
<li>元组中的元素只可读取，不可修改</li>
<li>在Scala的集合体系中，最常用的是元组，元组对放入其中的元素没有过多约束，使用更加灵活</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">var</span> tuple = (<span class="number">1</span>,<span class="string">&quot;a&quot;</span>,<span class="number">20</span>,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用元组下标访问元组元素  下标从1开始</span></span><br><span class="line">        println(tuple._1)</span><br><span class="line">        println(tuple._2)</span><br><span class="line">        println(tuple._3)</span><br><span class="line">        println(tuple._4)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-13-6、列表"><a href="#3-13-6、列表" class="headerlink" title="3.13.6、列表"></a>3.13.6、列表</h3><p><strong>不可变列表:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> list01 = <span class="type">List</span>(<span class="number">1</span>,<span class="string">&quot;a&quot;</span>,<span class="number">2</span>,<span class="literal">true</span>)</span><br><span class="line">        <span class="keyword">var</span> list02 = <span class="type">Nil</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Nil代表空列表</span></span><br><span class="line">        <span class="comment">//println(list02)//List() 空列表</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用下标访问list01中的元素</span></span><br><span class="line">        <span class="comment">//println(list01(1))//a</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//list01(1) = &quot;c&quot; //元素值不可修改</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> list03 = list01 :+ <span class="number">4</span></span><br><span class="line">        println(list03)<span class="comment">//List(1, a, 2, true, 4)</span></span><br><span class="line">        println(list01)<span class="comment">//List(1, a, 2, true) list01并没有改变</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>可变列表:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> list01 = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="string">&quot;a&quot;</span>,<span class="number">2</span>,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改列表元素值</span></span><br><span class="line">        <span class="comment">//list01(1) = 10</span></span><br><span class="line">        <span class="comment">//println(list01)//ListBuffer(1, 10, 2, true)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改列表长度</span></span><br><span class="line">        list01.append(<span class="number">10</span>)</span><br><span class="line">        println(list01)<span class="comment">//ListBuffer(1, a, 2, true, 10)</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-13-7、映射"><a href="#3-13-7、映射" class="headerlink" title="3.13.7、映射"></a>3.13.7、映射</h3><p><strong>不可变映射:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> map01 = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//利用key获取相关值</span></span><br><span class="line">        <span class="comment">//println(map01(&quot;a&quot;))//1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取不存在key的对应值</span></span><br><span class="line">        <span class="comment">//println(map01(&quot;d&quot;))//没有key为d 抛出异常</span></span><br><span class="line">        <span class="comment">//println(map01.getOrElse(&quot;d&quot;,&quot;不存在&quot;))//使用默认值</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历map</span></span><br><span class="line">        <span class="keyword">for</span> (t&lt;-map01)&#123;</span><br><span class="line">            <span class="comment">//map中每一个元素是一个对偶元组</span></span><br><span class="line">            println(t._1+<span class="string">&quot;---&quot;</span>+t._2)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>可变映射:</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> map01 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改map元素值</span></span><br><span class="line">        <span class="comment">//map01(&quot;a&quot;) = 10</span></span><br><span class="line">        <span class="comment">//println(map01(&quot;a&quot;))//10</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//map添加元素</span></span><br><span class="line">        <span class="comment">//map01 += (&quot;d&quot;-&gt;4)</span></span><br><span class="line">        <span class="comment">//println(map01)//Map(b -&gt; 2, d -&gt; 4, a -&gt; 1, c -&gt; 3)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//map删除元素</span></span><br><span class="line">        map01 -= (<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        println(map01)<span class="comment">//Map(b -&gt; 2, c -&gt; 3)</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-14-Scala总结说明"><a href="#3-14-Scala总结说明" class="headerlink" title="3.14 Scala总结说明"></a>3.14 Scala总结说明</h2><p>本体验课中Scala的学习主要是为了其后Spark程序的编写，只是简要向大家介绍了Scala中的基本语法部分；Scala语言的其他特性，诸如:函数高级、面向对象、隐式转换、模式匹配、偏函数、闭包等都会在其后的大数据课程中中向大家一一详细讲解。</p>
<h1 id="4、Spark"><a href="#4、Spark" class="headerlink" title="4、Spark"></a>4、Spark</h1><h2 id="4-1、Spark简述"><a href="#4-1、Spark简述" class="headerlink" title="4.1、Spark简述"></a>4.1、Spark简述</h2><h3 id="4-1-1、定义"><a href="#4-1-1、定义" class="headerlink" title="4.1.1、定义"></a>4.1.1、定义</h3><p>Spark是一种基于内存的快速、通用、可扩展的大数据分析计算引擎</p>
<p>官网地址:<a target="_blank" rel="noopener" href="http://spark.apache.org/">http://spark.apache.org/</a></p>
<h3 id="4-1-2、组成部分"><a href="#4-1-2、组成部分" class="headerlink" title="4.1.2、组成部分"></a>4.1.2、组成部分</h3><p><strong>Spark Core Spark核心</strong></p>
<p>实现了Spark的基本功能，包含任务调度、内存管理、错误恢复、与存储系统交互等模块。Spark Core中还包含了对弹性分布式数据集(Resilient Distributed DataSet，简称RDD)的API定义。</p>
<p><strong>Spark SQL 结构化数据处理</strong></p>
<p>是Spark用来操作结构化数据的程序包。通过Spark SQL，我们可以使用 SQL或者Apache Hive版本的SQL方言(HQL)来查询数据。Spark SQL支持多种数据源，比如Hive表、Parquet以及JSON等。</p>
<p><strong>Spark Streaming 实时计算</strong></p>
<p>是Spark提供的对实时数据进行流式计算的组件。提供了用来操作数据流的API，并且与Spark Core中的 RDD API高度对应。</p>
<p><strong>Spark Mllib 机器学习</strong></p>
<p>提供常见的机器学习(ML)功能的程序库。包括分类、回归、聚类、协同过滤等，还提供了模型评估、数据 导入等额外的支持功能。</p>
<p><strong>Spark Graphx 图计算</strong></p>
<p>Spark GraphX是一个分布式图处理框架，它是基于Spark平台提供对图计算和图挖掘简洁易用的而丰富的接口，极大的方便了对分布式图处理的需求。例如Twitter、Facebook、微博和微信等，这些都是大数据产生的地方都需要图计算，现在的图处理基本都是分布式的图处理，而并非单机处理。Spark GraphX由于底层是基于Spark来处理的，所以天然就是一个分布式的图处理系统。</p>
<p>在本次体验课中，我们只重点学习Spark Streaming 实时计算入门部分，用于其后的疫情实时数据分析项目使用</p>
<h2 id="4-2、特点"><a href="#4-2、特点" class="headerlink" title="4.2、特点"></a>4.2、特点</h2><p><strong>计算快速</strong></p>
<p>Spark是基于内存高效处理数据流，Hadoop中的MapReduce大大提升了计算效率</p>
<p><strong>易用性</strong></p>
<p>Spark支持Java、Scala和Python的API，同时其本身提供了超过80种算法，使得用户可以快速构建不同的应用</p>
<p><strong>通用性</strong></p>
<p>Spark提供了统一的解决方案。其使得批处理、交互式查询(Spark SQL)、实时流处理(Spark Streaming)、机器学习(Spark Mllib)和图计算这些不同类型的处理可以在同一个应用中无缝使用。</p>
<p><strong>兼容性</strong></p>
<p>Sparke可以方便的与其它产品进行融合。例如：Yarn、Hdfs、Hbase等</p>
<h2 id="4-3、MapReduce简述"><a href="#4-3、MapReduce简述" class="headerlink" title="4.3、MapReduce简述"></a>4.3、MapReduce简述</h2><h3 id="4-3-1、MapReduce定义"><a href="#4-3-1、MapReduce定义" class="headerlink" title="4.3.1、MapReduce定义"></a>4.3.1、MapReduce定义</h3><p>MapReduce属于Hadoop，是一个分布式数据分析的计算框架</p>
<h3 id="4-3-2、MapReduce的WordCount计算流程简述"><a href="#4-3-2、MapReduce的WordCount计算流程简述" class="headerlink" title="4.3.2、MapReduce的WordCount计算流程简述"></a>4.3.2、MapReduce的WordCount计算流程简述</h3><p><img src="%5Cimages%5Cwordcount%E6%B5%81%E7%A8%8B.png"></p>
<p><img src="%5Cimages%5Cmapreduce%E7%BB%93%E6%9E%9C.png"></p>
<p><strong>流程说明:</strong></p>
<p>把文本中大数据量的单词按照一定规则进行切分，切分成多个单词文件，每个单词文件产生一个map任务</p>
<p>在map阶段中，对于每一个map任务，会逐行读取文本中的单词，对每一个单词都处理成&lt;word,1&gt;的&lt;key,value&gt;形式</p>
<p>例如：</p>
<p>　　一个有三行文本的文件进行MapReduce操作</p>
<p>　　读取第一行Hello World Bye World ，分割单词形成Map</p>
<p>　　&lt;Hello,1&gt; &lt;World,1&gt; &lt;Bye,1&gt; &lt;World,1&gt;</p>
<p>　　读取第二行Hello Hadoop Bye Hadoop ，分割单词形成Map</p>
<p>　　&lt;Hello,1&gt; &lt;Hadoop,1&gt; &lt;Bye,1&gt; &lt;Hadoop,1&gt;</p>
<p>　　读取第三行Bye Hadoop Hello Hadoop，分割单词形成Map</p>
<p>　　&lt;Bye,1&gt; &lt;Hadoop,1&gt; &lt;Hello,1&gt; &lt;Hadoop,1&gt;</p>
<p><img src="%5Cimages%5Cmap%E9%98%B6%E6%AE%B5.png"></p>
<p>map阶段的输出结果会发送到reduce阶段，在reduce阶段对map阶段的结果进行归并操作，统计出每个单词的词频</p>
<p><img src="%5Cimages%5Creduce%E9%98%B6%E6%AE%B5.png"></p>
<h2 id="4-4、Spark和MapReduce区别"><a href="#4-4、Spark和MapReduce区别" class="headerlink" title="4.4、Spark和MapReduce区别"></a>4.4、Spark和MapReduce区别</h2><ul>
<li><p>MapReduce是基于硬盘的计算框架，计算效率低</p>
<p>map阶段的输出结果先落盘到硬盘，再发送到reduce阶段，大数据量情况下影响计算效率</p>
<p>多个MapReduce任务之间串联计算，每个MapReduce的输出结果都是先落盘，再发送给下一个MapReduce处理</p>
<p>Spark计算框架计算速度比MapReduce快100倍以上</p>
</li>
<li><p>Spark可以进行离线数据计算同时也支持实时数据计算，MapReduce只可以进行离线数据计算</p>
</li>
</ul>
<h2 id="4-5、Spark相关概念"><a href="#4-5、Spark相关概念" class="headerlink" title="4.5、Spark相关概念"></a>4.5、Spark相关概念</h2><h3 id="4-5-1、离线数据与实时数据"><a href="#4-5-1、离线数据与实时数据" class="headerlink" title="4.5.1、离线数据与实时数据"></a>4.5.1、离线数据与实时数据</h3><p><strong>离线数据</strong></p>
<p>即在开始计算前已经接收到所有输入数据，输入数据不会再随着某个维度的推移而发生变化；在大数据范畴中，离线数据通常意味着历史数据。</p>
<p><strong>实时数据</strong></p>
<p>即在计算过程中的同一时间所获得的数据，输入数据会随着某一个维度的变化而发生改变，例如：机床监控温控系统会随着时间推移不断检测机床温度，并时时发送温度数据。</p>
<h3 id="4-5-2、批处理与流处理"><a href="#4-5-2、批处理与流处理" class="headerlink" title="4.5.2、批处理与流处理"></a>4.5.2、批处理与流处理</h3><p><strong>批处理</strong></p>
<p>针对某一个批次数据进行统一处理</p>
<p><strong>流处理</strong></p>
<p>针对无穷数据集的数据进行相关处理</p>
<h3 id="4-5-3、RDD简介"><a href="#4-5-3、RDD简介" class="headerlink" title="4.5.3、RDD简介"></a>4.5.3、RDD简介</h3><p>RDD叫做弹性分布式数据集；是Spark中最基础、最重要的数据抽象；是Spark Core的核心，Spark SQL、Spark Streaming的基础；其代表一个不可变、可分区、可并行计算的数据集合。</p>
<p>暂目前大家可以把RDD认知为一个数据的集合，我们可以利用Spark已有的算法对其中的数据进行相关操作，来完成不同的应用需求。</p>
<h3 id="4-5-4、Master与Worker"><a href="#4-5-4、Master与Worker" class="headerlink" title="4.5.4、Master与Worker"></a>4.5.4、Master与Worker</h3><p><strong>Spark程序的部署模式</strong></p>
<p>本地</p>
<p>Standalone</p>
<p>Yarn</p>
<p>Mesos</p>
<p>Master和Worker是Standalone模式中的常驻节点，负责Spark程序执行的资源调配；在Master节点常驻Master守护进程，用来管理Worker节点，管理Worker资源完成资源分配，同时也负责Spark程序任务的提交。Worker节点常驻Worker守护进程，提供Spark程序运行所需资源，与Master节点通信，并管理Executor进程。</p>
<h3 id="4-5-5、Driver与Executor"><a href="#4-5-5、Driver与Executor" class="headerlink" title="4.5.5、Driver与Executor"></a>4.5.5、Driver与Executor</h3><p><strong>Driver</strong></p>
<p>可以运行在Master，也可以运行在Worker；负责向Master申请程序运行所需资源；分配Spark任务，并和Executor进程通信，完成任务的提交</p>
<p><strong>Executor</strong></p>
<p>Executor进程运行在Worker节点，实际负责程序的执行，并把执行结果返回给Driver端</p>
<h2 id="4-7、离线WordCount"><a href="#4-7、离线WordCount" class="headerlink" title="4.7、离线WordCount"></a>4.7、离线WordCount</h2><p>在项目中src\main\resources下创建log4j.properties文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Licensed to the Apache Software Foundation (ASF) under one or more</span></span><br><span class="line"><span class="comment"># contributor license agreements.  See the NOTICE file distributed with</span></span><br><span class="line"><span class="comment"># this work for additional information regarding copyright ownership.</span></span><br><span class="line"><span class="comment"># The ASF licenses this file to You under the Apache License, Version 2.0</span></span><br><span class="line"><span class="comment"># (the &quot;License&quot;); you may not use this file except in compliance with</span></span><br><span class="line"><span class="comment"># the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment"># See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment"># limitations under the License.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set everything to be logged to the console</span></span><br><span class="line"><span class="meta">log4j.rootCategory</span>=<span class="string">ERROR, console</span></span><br><span class="line"><span class="meta">log4j.appender.console</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.console.target</span>=<span class="string">System.err</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">%d&#123;yy/MM/dd HH:mm:ss&#125; %p %c&#123;1&#125;: %m%n</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default spark-shell log level to WARN. When running the spark-shell, the</span></span><br><span class="line"><span class="comment"># log level for this class is used to overwrite the root logger&#x27;s log level, so that</span></span><br><span class="line"><span class="comment"># the user can have different defaults for the shell and regular Spark apps.</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.Main</span>=<span class="string">WARN</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Settings to quiet third party logs that are too verbose</span></span><br><span class="line"><span class="meta">log4j.logger.org.spark_project.jetty</span>=<span class="string">WARN</span></span><br><span class="line"><span class="meta">log4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle</span>=<span class="string">ERROR</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.SparkIMain$exprTyper</span>=<span class="string">INFO</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter</span>=<span class="string">INFO</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.parquet</span>=<span class="string">ERROR</span></span><br><span class="line"><span class="meta">log4j.logger.parquet</span>=<span class="string">ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler</span>=<span class="string">FATAL</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry</span>=<span class="string">ERROR</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>maven pom</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bw.spark.demo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SparkDemo1906A<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>WordCount</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">WordCount</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//创建一个SparkConf对象</span></span><br><span class="line">        <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>()</span><br><span class="line">        <span class="comment">//设置当前待执行的job的名字</span></span><br><span class="line">        conf.setAppName(<span class="string">&quot;wordcount&quot;</span>)</span><br><span class="line">        <span class="comment">//指定提交方式 当前程序设定为本地模式</span></span><br><span class="line">        conf.setMaster(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">        <span class="comment">//需要一个SparkConf对象</span></span><br><span class="line">        <span class="keyword">val</span> sc: <span class="type">SparkContext</span> = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br><span class="line">        <span class="comment">//从hdfs获取资源文件</span></span><br><span class="line">        <span class="keyword">val</span> filerdd: <span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">&quot;D:\\words.data&quot;</span>)</span><br><span class="line">        <span class="comment">//使用&quot; &quot;切割每一行的字符串</span></span><br><span class="line">        <span class="keyword">val</span> flatrdd: <span class="type">RDD</span>[<span class="type">String</span>] = filerdd.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">        <span class="comment">//使用每个单词组成(单词，1)</span></span><br><span class="line">        <span class="keyword">val</span> tuplerdd: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = flatrdd.map((_,<span class="number">1</span>))</span><br><span class="line">       <span class="comment">//按照每个元组中的单词进行分组，并把其个数求和</span></span><br><span class="line">       <span class="keyword">val</span> result: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = tuplerdd.reduceByKey(_ + _)</span><br><span class="line">        <span class="comment">//输出结果到控制台</span></span><br><span class="line">        result.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-8、Spark-Streaming"><a href="#4-8、Spark-Streaming" class="headerlink" title="4.8、Spark Streaming"></a>4.8、Spark Streaming</h2><h3 id="4-8-1、DStream简介"><a href="#4-8-1、DStream简介" class="headerlink" title="4.8.1、DStream简介"></a>4.8.1、DStream简介</h3><p>DStream叫做离散化流，是Spark Streaming中RDD的抽象表示。DStream是指随时间推移而接收到的数据序列。在DStream内部，每个时间区间接收到的数据都作为一个RDD存在，DStream是由这些RDD组成的数据序列。</p>
<p><img src="%5Cimages%5CDStream.png"></p>
<p>由此可见，Spark Streaming不是实际意义上的流式计算，而是属于微批处理计算。</p>
<h3 id="4-8-2、实时WordCount"><a href="#4-8-2、实时WordCount" class="headerlink" title="4.8.2、实时WordCount"></a>4.8.2、实时WordCount</h3><p>使用netcat模拟实时单词发送</p>
<p>解压netcat.zip，把解压后的所有文件放到系统盘的windows/system32下  </p>
<p>在CMD中，使用nc -lp 9999连接本机9999端口，模拟实时单词发送</p>
<p><img src="%5Cimages%5Cnetcat%E5%AE%89%E8%A3%85.png"></p>
<p>maven pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.test.sparkstreaming<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SparkStreamingDemo01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定scala依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.scala-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-library<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定spark依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-streaming_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Spark Streaming实时计算词频</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.spark.streaming.<span class="type">StreamingContext</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.streaming.dstream.&#123;<span class="type">DStream</span>, <span class="type">ReceiverInputDStream</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, streaming&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 需求:</span></span><br><span class="line"><span class="comment"> * 从netcat往机器的9999端口发送数据 模拟微批次发</span></span><br><span class="line"><span class="comment"> * 送数据(数据源)</span></span><br><span class="line"><span class="comment"> * 使用sparkstreaming从端口接收数据  统计不同单词的出现次数（接收端）</span></span><br><span class="line"><span class="comment"> * 分析:</span></span><br><span class="line"><span class="comment"> * 使用hadoop05机器  从9999端口  netcat不停的发送数据</span></span><br><span class="line"><span class="comment"> * nc -lp 9999</span></span><br><span class="line"><span class="comment"> * 从windows机器编写sparkstream程序从hadoop05机器采集实时数据并处理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">StreamingDemo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1:创建sparkcontext</span></span><br><span class="line">        <span class="comment">//在sparkstreaming中要创建streamingcontext对象</span></span><br><span class="line">        <span class="comment">//创建sparkconf对象</span></span><br><span class="line">        <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;StreamingDemo01&quot;</span>)</span><br><span class="line">        <span class="comment">//指定每隔5秒采集一次数据</span></span><br><span class="line">        <span class="keyword">val</span> stream = <span class="keyword">new</span> <span class="type">StreamingContext</span>(conf,streaming.<span class="type">Seconds</span>(<span class="number">3</span>))</span><br><span class="line">        <span class="comment">//2:获取待处理数据</span></span><br><span class="line">        <span class="comment">//指定从本机9999端口接收数据</span></span><br><span class="line">        <span class="keyword">val</span> wordlineDStream: <span class="type">ReceiverInputDStream</span>[<span class="type">String</span>] = stream.socketTextStream(<span class="string">&quot;localhost&quot;</span>,<span class="number">9999</span>)</span><br><span class="line">        <span class="comment">//a b c</span></span><br><span class="line">        <span class="comment">//3:使用算子 进行相关数据处理</span></span><br><span class="line">        <span class="comment">//把一行单词字符串进行拆分压平( a b c 都是变成单独的单词)</span></span><br><span class="line">        <span class="keyword">val</span> wordsDSteam: <span class="type">DStream</span>[<span class="type">String</span>] = wordlineDStream.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">        <span class="comment">//a-&gt;(a,1) b-&gt;(b,1) ...</span></span><br><span class="line">        <span class="comment">//把每个单词转换形式变成(word,1)</span></span><br><span class="line">        <span class="keyword">val</span> mapDStream: <span class="type">DStream</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordsDSteam.map((_,<span class="number">1</span>))</span><br><span class="line">        <span class="comment">//按照key进行汇总计算</span></span><br><span class="line">        <span class="keyword">val</span> resultDSteam: <span class="type">DStream</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = mapDStream.reduceByKey(_+_)</span><br><span class="line">        <span class="comment">//4:对分析结果保存</span></span><br><span class="line">        <span class="comment">//把结果输出</span></span><br><span class="line">        resultDSteam.print()</span><br><span class="line"></span><br><span class="line">        <span class="comment">//stream.stop()</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//启动收集器</span></span><br><span class="line">        stream.start()</span><br><span class="line">        <span class="comment">//等待收集器从数据源接收数据</span></span><br><span class="line">        stream.awaitTermination()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在windows安装netcat，使用netcat在命令行输入单词序列，进行测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">nc -lp 9999</span></span><br><span class="line">hello a b</span><br><span class="line">a b cc</span><br><span class="line">hello ab sam</span><br></pre></td></tr></table></figure>



<h3 id="4-8-3、无状态与有状态"><a href="#4-8-3、无状态与有状态" class="headerlink" title="4.8.3、无状态与有状态"></a>4.8.3、无状态与有状态</h3><p><strong>无状态</strong></p>
<p>接收输入的每一条数据，处理并产生结果</p>
<p>例如:每隔一分钟，采集一次温度数据并记录</p>
<p><strong>有状态</strong></p>
<p>维护数据的状态，并根据输入的每一条数据进行更新</p>
<p>例如:每隔10分钟，计算一次平均温度</p>
<h3 id="4-8-4、实时有状态WordCount"><a href="#4-8-4、实时有状态WordCount" class="headerlink" title="4.8.4、实时有状态WordCount"></a>4.8.4、实时有状态WordCount</h3><p>在4.8.2的实时WorkCount中，属于实时无状态计算词频，只可以计算每个采集周期内的单词词频，不可跨越采集周期进行词频累加计算；需使用实时有状态计算完成跨周期词频统计。</p>
<p>maven  pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.test.sparkstreaming<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SparkStreamingDemo01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定scala依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.scala-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-library<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定spark依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-streaming_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>实时有状态词频统计WordCount</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">StreamingDemo02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1:创建sparkcontext</span></span><br><span class="line">        <span class="comment">//在sparkstreaming中要创建streamingcontext对象</span></span><br><span class="line">        <span class="comment">//创建sparkconf对象</span></span><br><span class="line">        <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;StreamingDemo02&quot;</span>)</span><br><span class="line">        <span class="comment">//指定每隔3秒采集一次数据</span></span><br><span class="line">        <span class="keyword">val</span> stream = <span class="keyword">new</span> <span class="type">StreamingContext</span>(conf,streaming.<span class="type">Seconds</span>(<span class="number">3</span>))</span><br><span class="line">        <span class="comment">//2:获取待处理数据</span></span><br><span class="line">        <span class="comment">//指定从本机9999端口接收数据</span></span><br><span class="line">        <span class="keyword">val</span> wordlineDStream: <span class="type">ReceiverInputDStream</span>[<span class="type">String</span>] = stream.socketTextStream(<span class="string">&quot;localhost&quot;</span>,<span class="number">9999</span>)</span><br><span class="line">        <span class="comment">//a b c</span></span><br><span class="line">        <span class="comment">//3:使用算子 进行相关数据处理</span></span><br><span class="line">        <span class="comment">//把一行单词字符串进行拆分压平( a b c 都是变成单独的单词)</span></span><br><span class="line">        <span class="keyword">val</span> wordsDSteam: <span class="type">DStream</span>[<span class="type">String</span>] = wordlineDStream.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">        <span class="comment">//a-&gt;(a,1) b-&gt;(b,1) ...</span></span><br><span class="line">        <span class="comment">//把每个单词转换形式变成(word,1)</span></span><br><span class="line">        <span class="keyword">val</span> mapDStream: <span class="type">DStream</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordsDSteam.map((_,<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存状态数据</span></span><br><span class="line">        stream.checkpoint(<span class="string">&quot;D:\\checkpoint&quot;</span>)</span><br><span class="line">        <span class="comment">//处理跨采集周期累加</span></span><br><span class="line">        <span class="keyword">val</span> resulttemp: <span class="type">DStream</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = mapDStream.updateStateByKey((sep: <span class="type">Seq</span>[<span class="type">Int</span>], option: <span class="type">Option</span>[<span class="type">Int</span>]) =&gt; &#123;</span><br><span class="line">            <span class="comment">//设定结果变量</span></span><br><span class="line">            <span class="keyword">var</span> value: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">            <span class="comment">//累加历史批次数据</span></span><br><span class="line">            value += option.getOrElse(<span class="number">0</span>)</span><br><span class="line">            <span class="comment">//处理当前批次数据</span></span><br><span class="line">            value += sep.sum</span><br><span class="line"></span><br><span class="line">            <span class="type">Option</span>(value)</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//按照key进行汇总计算</span></span><br><span class="line">        <span class="keyword">val</span> resultDSteam: <span class="type">DStream</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = resulttemp.reduceByKey(_+_)</span><br><span class="line">        <span class="comment">//4:对分析结果保存</span></span><br><span class="line">        <span class="comment">//把结果输出</span></span><br><span class="line">        resultDSteam.print()</span><br><span class="line"></span><br><span class="line">        <span class="comment">//stream.stop()</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//启动收集器</span></span><br><span class="line">        stream.start()</span><br><span class="line">        <span class="comment">//等待收集器从数据源接收数据</span></span><br><span class="line">        stream.awaitTermination()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用netcat从命令行输入数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">nc -lp 9999</span></span><br><span class="line">hello a b</span><br><span class="line">a b cc</span><br><span class="line">hello ab sam</span><br></pre></td></tr></table></figure>



<h1 id="5、项目实战"><a href="#5、项目实战" class="headerlink" title="5、项目实战"></a>5、项目实战</h1><h2 id="5-1、需求说明"><a href="#5-1、需求说明" class="headerlink" title="5.1、需求说明"></a>5.1、需求说明</h2><p>实时采集全国各省xx疫情病例数据(新增病例数据、疑似病例数据)，对数据进行跟踪并进行疫情数据趋势分析。</p>
<h2 id="5-2、技术架构"><a href="#5-2、技术架构" class="headerlink" title="5.2、技术架构"></a>5.2、技术架构</h2><p><strong>编程语言:</strong></p>
<p>Java、Scala</p>
<p><strong>采集层、数据分析层:</strong></p>
<p>Spark Streaming</p>
<p>使用Spark Streaming完成数据采集、实时数据分析</p>
<p><strong>数据展示层:</strong></p>
<p>SpringBoot、Echarts</p>
<p>使用SpringBoot、Echarts完成实时分析结果数据展示</p>
<h2 id="5-3、大数据项目主要组成模块说明"><a href="#5-3、大数据项目主要组成模块说明" class="headerlink" title="5.3、大数据项目主要组成模块说明"></a>5.3、大数据项目主要组成模块说明</h2><p><strong>大数据项目通常包含如下模块：</strong></p>
<p><strong>数据采集</strong></p>
<p>为其后数据分析计算提供基础数据</p>
<p>数据来源主要为日志数据采集(利用埋点采集数据写入日志)和数据源数据同步(从其它业务系统数据进行同步)</p>
<p><strong>数据清洗(ETL)</strong></p>
<p>对采集到的原始数据进行数据清洗，保留有效数据，通常使用专有的ETL工具</p>
<p><strong>数据分析计算</strong></p>
<p>对采集到的有效数据按照某维度进行分析计算</p>
<p><strong>数据存储</strong></p>
<p>把分析计算结果放入存储介质，以后其后业务使用或展示</p>
<p><strong>数据展示</strong></p>
<p>以表格、视图、图表的形式完成数据展示</p>
<h2 id="5-4、模拟疫情数据上报流程"><a href="#5-4、模拟疫情数据上报流程" class="headerlink" title="5.4、模拟疫情数据上报流程"></a>5.4、模拟疫情数据上报流程</h2><p>使用java完成模拟疫情数据上报流程代码编写</p>
<p>上报数据格式说明</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">上报日期,省名称,新增病例数据,疑似病例数据</span><br><span class="line">2020-02-11,武汉,20,30</span><br><span class="line">2020-02-13,甘肃,10,20</span><br><span class="line">......</span><br></pre></td></tr></table></figure>





<p>对每一条上报数据进行封装</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String productdate;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> increased;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> seeming;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getProductdate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> productdate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setProductdate</span><span class="params">(String productdate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.productdate = productdate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> city;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCity</span><span class="params">(String city)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.city = city;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getIncreased</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> increased;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIncreased</span><span class="params">(<span class="keyword">int</span> increased)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.increased = increased;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSeeming</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seeming;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSeeming</span><span class="params">(<span class="keyword">int</span> seeming)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.seeming = seeming;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">                productdate +</span><br><span class="line">                <span class="string">&quot;,&quot;</span> + city +</span><br><span class="line">                <span class="string">&quot;,&quot;</span> + increased +</span><br><span class="line">                <span class="string">&quot;,&quot;</span> + seeming;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>模拟产生疫情数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductData</span> </span>&#123;</span><br><span class="line">    <span class="comment">//模拟时间数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] product_date = <span class="keyword">new</span> String[]&#123;</span><br><span class="line">            <span class="string">&quot;2020-02-10&quot;</span>,<span class="string">&quot;2020-02-11&quot;</span>,<span class="string">&quot;2020-02-12&quot;</span>,</span><br><span class="line">            <span class="string">&quot;2020-02-13&quot;</span>,<span class="string">&quot;2020-02-14&quot;</span>,<span class="string">&quot;2020-02-15&quot;</span>,</span><br><span class="line">            <span class="string">&quot;2020-02-16&quot;</span>,&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//模拟省份数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] product_city = <span class="keyword">new</span> String[]&#123;</span><br><span class="line">            <span class="string">&quot;北京&quot;</span>,<span class="string">&quot;上海&quot;</span>,<span class="string">&quot;内蒙古&quot;</span>,<span class="string">&quot;陕西&quot;</span>,<span class="string">&quot;甘肃&quot;</span>,<span class="string">&quot;青海&quot;</span>,</span><br><span class="line">            <span class="string">&quot;深圳&quot;</span>,<span class="string">&quot;天津&quot;</span>,<span class="string">&quot;合肥&quot;</span>,<span class="string">&quot;厦门&quot;</span>,<span class="string">&quot;香港&quot;</span>,<span class="string">&quot;河北&quot;</span>,</span><br><span class="line">            <span class="string">&quot;山西&quot;</span>,<span class="string">&quot;辽宁&quot;</span>,<span class="string">&quot;江苏&quot;</span>,<span class="string">&quot;吉林&quot;</span>,<span class="string">&quot;黑龙江&quot;</span>,<span class="string">&quot;浙江&quot;</span>,</span><br><span class="line">            <span class="string">&quot;安徽&quot;</span>,<span class="string">&quot;福建&quot;</span>,<span class="string">&quot;山东&quot;</span>,<span class="string">&quot;湖北&quot;</span>,<span class="string">&quot;湖南&quot;</span>,<span class="string">&quot;四川&quot;</span>,</span><br><span class="line">            <span class="string">&quot;贵州&quot;</span>,<span class="string">&quot;云南&quot;</span>,<span class="string">&quot;陕西&quot;</span>,<span class="string">&quot;贵州&quot;</span>,<span class="string">&quot;山东&quot;</span>,<span class="string">&quot;台湾&quot;</span>,<span class="string">&quot;重庆&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//模拟新增数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] product_increased = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;</span><br><span class="line">      <span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">27</span>,<span class="number">30</span>,<span class="number">28</span>,<span class="number">4</span>,<span class="number">17</span>,<span class="number">19</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//模拟疑似数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span>  <span class="keyword">int</span>[] product_seeming = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;</span><br><span class="line">            <span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">24</span>,<span class="number">27</span>,<span class="number">23</span>,<span class="number">28</span>,<span class="number">29</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//产生采集数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;DataBean&gt; <span class="title">productData</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;DataBean&gt; dataBeans = <span class="keyword">new</span> ArrayList&lt;DataBean&gt;();</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        DataBean dataBean = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50</span>;i++)&#123;</span><br><span class="line">            dataBean = <span class="keyword">new</span> DataBean();</span><br><span class="line">            dataBean.setProductdate(product_date[random.nextInt(product_date.length)]);</span><br><span class="line">            dataBean.setCity(product_city[random.nextInt(product_city.length)]);</span><br><span class="line">            dataBean.setIncreased(product_increased[random.nextInt(product_increased.length)]);</span><br><span class="line">            dataBean.setSeeming(product_seeming[random.nextInt(product_seeming.length)]);</span><br><span class="line"></span><br><span class="line">            dataBeans.add(dataBean);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dataBeans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>模拟发送疫情上报数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendData</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ServerSocket server = <span class="keyword">null</span>;</span><br><span class="line">        Socket socket = <span class="keyword">null</span>;</span><br><span class="line">        OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">        PrintWriter pw = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            server = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">            socket = server.accept();</span><br><span class="line">            os = socket.getOutputStream();</span><br><span class="line">            pw = <span class="keyword">new</span> PrintWriter(os);</span><br><span class="line"></span><br><span class="line">            List&lt;DataBean&gt; dataBeans = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">                dataBeans = Productor.productData();</span><br><span class="line">                <span class="keyword">for</span> (DataBean data:dataBeans)&#123;</span><br><span class="line">                    pw.write(data.toString()+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    System.out.println(data);</span><br><span class="line">                    pw.flush();</span><br><span class="line">                    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException | InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            pw.close();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">                socket.close();</span><br><span class="line">                server.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-5、疫情数据实时采集、分析计算"><a href="#5-5、疫情数据实时采集、分析计算" class="headerlink" title="5.5、疫情数据实时采集、分析计算"></a>5.5、疫情数据实时采集、分析计算</h2><h3 id="5-5-1、创建日志配置文件"><a href="#5-5-1、创建日志配置文件" class="headerlink" title="5.5.1、创建日志配置文件"></a>5.5.1、创建日志配置文件</h3><p>在项目中src\main\resources下创建log4j.properties文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Licensed to the Apache Software Foundation (ASF) under one or more</span></span><br><span class="line"><span class="comment"># contributor license agreements.  See the NOTICE file distributed with</span></span><br><span class="line"><span class="comment"># this work for additional information regarding copyright ownership.</span></span><br><span class="line"><span class="comment"># The ASF licenses this file to You under the Apache License, Version 2.0</span></span><br><span class="line"><span class="comment"># (the &quot;License&quot;); you may not use this file except in compliance with</span></span><br><span class="line"><span class="comment"># the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment"># See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment"># limitations under the License.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set everything to be logged to the console</span></span><br><span class="line"><span class="meta">log4j.rootCategory</span>=<span class="string">ERROR, console</span></span><br><span class="line"><span class="meta">log4j.appender.console</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.console.target</span>=<span class="string">System.err</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">%d&#123;yy/MM/dd HH:mm:ss&#125; %p %c&#123;1&#125;: %m%n</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default spark-shell log level to WARN. When running the spark-shell, the</span></span><br><span class="line"><span class="comment"># log level for this class is used to overwrite the root logger&#x27;s log level, so that</span></span><br><span class="line"><span class="comment"># the user can have different defaults for the shell and regular Spark apps.</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.Main</span>=<span class="string">WARN</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Settings to quiet third party logs that are too verbose</span></span><br><span class="line"><span class="meta">log4j.logger.org.spark_project.jetty</span>=<span class="string">WARN</span></span><br><span class="line"><span class="meta">log4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle</span>=<span class="string">ERROR</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.SparkIMain$exprTyper</span>=<span class="string">INFO</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter</span>=<span class="string">INFO</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.parquet</span>=<span class="string">ERROR</span></span><br><span class="line"><span class="meta">log4j.logger.parquet</span>=<span class="string">ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler</span>=<span class="string">FATAL</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry</span>=<span class="string">ERROR</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-5-2、maven-pom-xml"><a href="#5-5-2、maven-pom-xml" class="headerlink" title="5.5.2、maven pom.xml"></a>5.5.2、maven pom.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SparkDemo01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定scala依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.scala-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-library<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定spark依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-streaming_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>WordCount<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="5-5-3、实时采集疫情上报数据"><a href="#5-5-3、实时采集疫情上报数据" class="headerlink" title="5.5.3、实时采集疫情上报数据"></a>5.5.3、实时采集疫情上报数据</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1:创建sparkcontext</span></span><br><span class="line"><span class="comment">//在sparkstreaming中要创建streamingcontext对象</span></span><br><span class="line"><span class="comment">//创建sparkconf对象</span></span><br><span class="line"><span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;StreamingDemo03&quot;</span>)</span><br><span class="line"><span class="comment">//指定每隔5秒采集一次数据</span></span><br><span class="line"><span class="keyword">val</span> stream = <span class="keyword">new</span> <span class="type">StreamingContext</span>(conf,streaming.<span class="type">Seconds</span>(<span class="number">5</span>))</span><br><span class="line"><span class="comment">//2:获取待处理数据</span></span><br><span class="line"><span class="comment">//指定从本机9999端口接收数据</span></span><br><span class="line"><span class="keyword">val</span> line: <span class="type">ReceiverInputDStream</span>[<span class="type">String</span>] = stream.socketTextStream(<span class="string">&quot;localhost&quot;</span>,<span class="number">9999</span>)</span><br></pre></td></tr></table></figure>

<h3 id="5-5-4、实时分析计算每个省新增病例、疑似病例数量"><a href="#5-5-4、实时分析计算每个省新增病例、疑似病例数量" class="headerlink" title="5.5.4、实时分析计算每个省新增病例、疑似病例数量"></a>5.5.4、实时分析计算每个省新增病例、疑似病例数量</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3:使用算子 进行相关数据处理</span></span><br><span class="line"><span class="comment">//日期,城市,新增,疑似</span></span><br><span class="line"><span class="keyword">val</span> dataDSteam: <span class="type">DStream</span>[(<span class="type">String</span>,(<span class="type">Int</span>,<span class="type">Int</span>))] = line.map(data=&gt;&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = data.split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    (arr(<span class="number">0</span>)+<span class="string">&quot;_&quot;</span>+arr(<span class="number">1</span>),(arr(<span class="number">2</span>).toInt,arr(<span class="number">3</span>).toInt))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存状态数据</span></span><br><span class="line">stream.checkpoint(<span class="string">&quot;D:\\checkpoint&quot;</span>)</span><br><span class="line"><span class="comment">//处理跨采集周期累加</span></span><br><span class="line"><span class="keyword">val</span> resulttemp: <span class="type">DStream</span>[(<span class="type">String</span>,(<span class="type">Int</span>, <span class="type">Int</span>))] = dataDSteam.updateStateByKey((currentvalue: <span class="type">Seq</span>[(<span class="type">Int</span>,<span class="type">Int</span>)], oldvalue: <span class="type">Option</span>[(<span class="type">Int</span>,<span class="type">Int</span>)]) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> current_increased:<span class="type">Int</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> current_seeming:<span class="type">Int</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentvalue.size&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (i&lt;<span class="number">-0</span> until currentvalue.length)&#123;</span><br><span class="line">            current_increased += currentvalue(i)._1</span><br><span class="line">            current_seeming += currentvalue(i)._2</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        current_increased += oldvalue.getOrElse((<span class="number">0</span>,<span class="number">0</span>))._1</span><br><span class="line">        current_seeming += oldvalue.getOrElse((<span class="number">0</span>,<span class="number">0</span>))._2</span><br><span class="line"></span><br><span class="line">        <span class="type">Option</span>((current_increased,current_seeming))</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        oldvalue</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-6、分析结果数据存储"><a href="#5-6、分析结果数据存储" class="headerlink" title="5.6、分析结果数据存储"></a>5.6、分析结果数据存储</h2><p><strong>把分析计算结果放入mysql数据表中</strong></p>
<p>在本机mysql数据库中使用navicat客户端工具创建数据库”shangbao”，在数据库中创建疫情分析结果保存数据表”repportdata”，“reportdata”表结构如下所示</p>
<p><img src="%5Cimages%5Cmysql%E8%A1%A8%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E.png"></p>
<p>注意:在reportdata数据表中，设置product_date和product_province同时作为主键，不要设置自增</p>
<p><strong>在maven pom.xml中加入对mysql数据库驱动的依赖</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.46<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>编写数据库操作工具类</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.&#123;<span class="type">Connection</span>, <span class="type">DriverManager</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">JdbcUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> db_driver:<span class="type">String</span> = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">    <span class="keyword">val</span> db_url:<span class="type">String</span> = <span class="string">&quot;jdbc:mysql://localhost:3306/shangbao?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span></span><br><span class="line">    <span class="keyword">val</span> db_username:<span class="type">String</span> = <span class="string">&quot;root&quot;</span></span><br><span class="line">    <span class="keyword">val</span> db_password:<span class="type">String</span> = <span class="string">&quot;root&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createConnection</span></span>():<span class="type">Connection</span>=&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Class</span>.forName(db_driver)</span><br><span class="line">        <span class="keyword">val</span> conn:<span class="type">Connection</span> = <span class="type">DriverManager</span>.getConnection(db_url,db_username,db_password)</span><br><span class="line">        conn</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">close</span></span>(conn:<span class="type">Connection</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">        conn.close()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        createConnection()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>把分析计算结果数据实时放入mysql</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4:对分析结果保存</span></span><br><span class="line"><span class="comment">//把结果输出</span></span><br><span class="line"><span class="comment">//resulttemp.print()</span></span><br><span class="line">resulttemp.foreachRDD(rdd=&gt;&#123;</span><br><span class="line">    rdd.foreachPartition(lines=&gt;&#123;</span><br><span class="line">        <span class="keyword">var</span> conn:<span class="type">Connection</span> = <span class="type">JdbcUtil</span>.createConnection()</span><br><span class="line">        <span class="keyword">var</span> ps:<span class="type">PreparedStatement</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (row &lt;- lines) &#123;</span><br><span class="line">                <span class="keyword">var</span> sql: <span class="type">String</span> = <span class="string">&quot;insert into reportdata (product_date,product_province,product_increased,product_seeming)&quot;</span></span><br><span class="line">                sql += <span class="string">&quot; values (&#x27;&quot;</span> + row._1.split(<span class="string">&quot;_&quot;</span>)(<span class="number">0</span>) + <span class="string">&quot;&#x27;,&#x27;&quot;</span> + row._1.split(<span class="string">&quot;_&quot;</span>)(<span class="number">1</span>) + <span class="string">&quot;&#x27;,&quot;</span> + row._2._1 + <span class="string">&quot;,&quot;</span> + row._2._2 + <span class="string">&quot;)&quot;</span></span><br><span class="line">                sql += <span class="string">&quot; on duplicate key update product_increased=&quot;</span>+row._2._1+<span class="string">&quot;,product_seeming=&quot;</span>+row._2._2</span><br><span class="line">                println(sql)</span><br><span class="line">                ps = conn.prepareStatement(sql)</span><br><span class="line">                ps.execute()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="type">JdbcUtil</span>.close(conn)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="5-7、数据展示"><a href="#5-7、数据展示" class="headerlink" title="5.7、数据展示"></a>5.7、数据展示</h2><p>使用SpringBoot、Echarts从mysql中提取分析结果数据，进行图表展示。</p>
<h3 id="5-7-1、SpringBoot简述"><a href="#5-7-1、SpringBoot简述" class="headerlink" title="5.7.1、SpringBoot简述"></a>5.7.1、SpringBoot简述</h3><h4 id="5-7-1-1、SpringBoot简介"><a href="#5-7-1-1、SpringBoot简介" class="headerlink" title="5.7.1.1、SpringBoot简介"></a>5.7.1.1、SpringBoot简介</h4><p>Spring  Boot是由Pivotal团队提供的全新框架，其设计目的是用来简化新Spring应用的搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，Spring Boot致力于在蓬勃发展的快速应用开发领域(rapid application development)成为领导者。</p>
<p>我们的前期Java课程将会对Spring体系中最流行的几种框架进行讲解：Spring Framework、Spring MVC、Spring Boot、及Spring Data。</p>
<h4 id="5-7-1-2、SpringBoot-HelloWorld"><a href="#5-7-1-2、SpringBoot-HelloWorld" class="headerlink" title="5.7.1.2、SpringBoot HelloWorld"></a>5.7.1.2、SpringBoot HelloWorld</h4><p>（1)创建maven项目，添加pom.xml文件</p>
<p>  a.添加parent依赖,引入这个之后，相关的引入就不需要添加version的配置，springboot会自动选择最合适的版本进行添加</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b.添加jar包依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c.jdk，编码描述:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>(2)在src/main/java下新建控制器类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">   <span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line">   <span class="meta">@RestController</span></span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">       <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * 请求地址映射,请求地址:http://localhost:8080/hello</span></span><br><span class="line"><span class="comment">        * 这里的hello是请求名，不是项目名</span></span><br><span class="line"><span class="comment">        * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="string">&quot;helloWord&quot;</span>;<span class="comment">//这里返回的字符串直接变成页面显示的信息</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>(3)启动测试:</p>
<p> a.使用注解启动</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里的@SpringApplication指定这是一个springBoot程序</span></span><br><span class="line">   <span class="meta">@SpringBootApplication</span></span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">           SpringApplication.run(Test1.class,args);      </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="5-7-2、Echarts简述"><a href="#5-7-2、Echarts简述" class="headerlink" title="5.7.2、Echarts简述"></a>5.7.2、Echarts简述</h3><ul>
<li><p>是一个使用 JavaScript 实现的开源可视化库，涵盖各行业图表，满足各种行业需求</p>
</li>
<li><p>直接可以从官网下载使用</p>
<p>官网地址:<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">https://echarts.apache.org/zh/index.html</a></p>
<p><img src="%5Cimages%5Cecharts%E5%AE%98%E7%BD%91.png"></p>
</li>
<li><p>仿照官网中案例javascript代码，根据实际需求进行相关修改</p>
<p><img src="%5Cimages%5Cecharts%E6%A0%B7%E4%BE%8B.png"></p>
</li>
</ul>
<h3 id="5-7-3、展示效果说明"><a href="#5-7-3、展示效果说明" class="headerlink" title="5.7.3、展示效果说明"></a>5.7.3、展示效果说明</h3><p><img src="%5Cimages%5C%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%9C%E6%BC%94%E7%A4%BA%E5%9B%BE.png"></p>
<h1 id="6、课程总结"><a href="#6、课程总结" class="headerlink" title="6、课程总结"></a>6、课程总结</h1><p>​       在本体验课中学习到的大数据技术只是后面大数据课程中很少的一部分，希望大家在其后的大数据课程中主动、认真学习，掌握大数据的技术技能，最终找到一份自己满意的工作！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/19/bigdata/" data-id="ckivb892g00008ovjhvzj7i4z" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/12/12/CS_note_1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">compress senceing</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/19/bigdata/">(no title)</a>
          </li>
        
          <li>
            <a href="/2020/12/12/CS_note_1/">compress senceing</a>
          </li>
        
          <li>
            <a href="/2020/12/12/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2020 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>